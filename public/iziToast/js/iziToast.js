(function(e,t){typeof define=="function"&&define.amd?define([],t(e)):typeof exports=="object"?module.exports=t(e):e.iziToast=t(e)})(typeof global!="undefined"?global:window||this.window||this.global,function(){"use strict";var s,o,i,a,u,h,m,p,g,n={},t="iziToast",y=document.querySelector("body"),c=!!/Mobi/.test(navigator.userAgent),b=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor),v=typeof InstallTrigger!="undefined",d="ontouchstart"in document.documentElement,f=["bottomRight","bottomLeft","bottomCenter","topRight","topLeft","topCenter","center"],j={info:{color:"blue",icon:"ico-info"},success:{color:"green",icon:"ico-success"},warning:{color:"orange",icon:"ico-warning"},error:{color:"red",icon:"ico-error"},question:{color:"yellow",icon:"ico-question"}},l=568,r={};return n.children={},u={id:null,class:"",title:"",titleColor:"",titleSize:"",titleLineHeight:"",message:"",messageColor:"",messageSize:"",messageLineHeight:"",backgroundColor:"",theme:"light",color:"",icon:"",iconText:"",iconColor:"",iconUrl:null,image:"",imageWidth:50,maxWidth:null,zindex:null,layout:1,balloon:!1,close:!0,closeOnEscape:!1,closeOnClick:!1,displayMode:0,position:"bottomRight",target:"",targetFirst:!0,timeout:5e3,rtl:!1,animateInside:!0,drag:!0,pauseOnHover:!0,resetOnHover:!1,progressBar:!0,progressBarColor:"",progressBarEasing:"linear",overlay:!1,overlayClose:!1,overlayColor:"rgba(0, 0, 0, 0.6)",transitionIn:"fadeInUp",transitionOut:"fadeOut",transitionInMobile:"fadeInUp",transitionOutMobile:"fadeOutDown",buttons:{},inputs:{},onOpening:function(){},onOpened:function(){},onClosing:function(){},onClosed:function(){}},"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),typeof window.CustomEvent!="function"&&(h=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n},h.prototype=window.Event.prototype,window.CustomEvent=h),s=function(e,t,n){if(Object.prototype.toString.call(e)==="[object Object]")for(o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(n,e[o],o,e);else if(e)for(var o,s=0,i=e.length;s<i;s++)t.call(n,e[s],s,e)},o=function(e,t){var n={};return s(e,function(t,s){n[s]=e[s]}),s(t,function(e,s){n[s]=t[s]}),n},a=function(e){var n=document.createDocumentFragment(),t=document.createElement("div");for(t.innerHTML=e;t.firstChild;)n.appendChild(t.firstChild);return n},m=function(e){var t=btoa(encodeURIComponent(e));return t.replace(/=/g,"")},p=function(e){return e.substring(0,1)=="#"||e.substring(0,3)=="rgb"||e.substring(0,3)=="hsl"},g=function(e){try{return btoa(atob(e))==e}catch{return!1}},i=function(){return{move:function(e,n,s,i){var a,r=.3,c=180;i!==0&&(e.classList.add(t+"-dragged"),e.style.transform="translateX("+i+"px)",i>0?(a=(c-i)/c,a<r&&n.hide(o(s,{transitionOut:"fadeOutRight",transitionOutMobile:"fadeOutRight"}),e,"drag")):(a=(c+i)/c,a<r&&n.hide(o(s,{transitionOut:"fadeOutLeft",transitionOutMobile:"fadeOutLeft"}),e,"drag")),e.style.opacity=a,a<r&&((b||v)&&(e.style.left=i+"px"),e.parentNode.style.opacity=r,this.stopMoving(e,null)))},startMoving:function(e,t,n,s){s=s||window.event;var r=d?s.touches[0].clientX:s.clientX,o=e.style.transform.replace("px)",""),o=o.replace("translateX(",""),a=r-o;n.transitionIn&&e.classList.remove(n.transitionIn),n.transitionInMobile&&e.classList.remove(n.transitionInMobile),e.style.transition="",d?document.ontouchmove=function(s){s.preventDefault(),s=s||window.event;var o=s.touches[0].clientX,r=o-a;i.move(e,t,n,r)}:document.onmousemove=function(s){s.preventDefault(),s=s||window.event;var o=s.clientX,r=o-a;i.move(e,t,n,r)}},stopMoving:function(e){d?document.ontouchmove=function(){}:document.onmousemove=function(){},e.style.opacity="",e.style.transform="",e.classList.contains(t+"-dragged")&&(e.classList.remove(t+"-dragged"),e.style.transition="transform 0.4s ease, opacity 0.4s ease",setTimeout(function(){e.style.transition=""},400))}}}(),n.setSetting=function(e,t,s){n.children[e][t]=s},n.getSetting=function(e,t){return n.children[e][t]},n.destroy=function(){s(document.querySelectorAll("."+t+"-overlay"),function(e){e.remove()}),s(document.querySelectorAll("."+t+"-wrapper"),function(e){e.remove()}),s(document.querySelectorAll("."+t),function(e){e.remove()}),this.children={},document.removeEventListener(t+"-opened",{},!1),document.removeEventListener(t+"-opening",{},!1),document.removeEventListener(t+"-closing",{},!1),document.removeEventListener(t+"-closed",{},!1),document.removeEventListener("keyup",{},!1),r={}},n.settings=function(e){n.destroy(),r=e,u=o(u,e||{})},s(j,function(e,t){n[t]=function(t){var n=o(r,t||{}),n=o(e,n||{});this.show(n)}}),n.progress=function(e,n,s){var r=this,c=n.getAttribute("data-iziToast-ref"),i=o(this.children[c],e||{}),a=n.querySelector("."+t+"-progressbar div");return{start:function(){typeof i.time.REMAINING=="undefined"&&(n.classList.remove(t+"-reseted"),a!==null&&(a.style.transition="width "+i.timeout+"ms "+i.progressBarEasing,a.style.width="0%"),i.time.START=(new Date).getTime(),i.time.END=i.time.START+i.timeout,i.time.TIMER=setTimeout(function(){clearTimeout(i.time.TIMER),n.classList.contains(t+"-closing")||(r.hide(i,n,"timeout"),typeof s=="function"&&s.apply(r))},i.timeout),r.setSetting(c,"time",i.time))},pause:function(){if(typeof i.time.START!="undefined"&&!n.classList.contains(t+"-paused")&&!n.classList.contains(t+"-reseted")){if(n.classList.add(t+"-paused"),i.time.REMAINING=i.time.END-(new Date).getTime(),clearTimeout(i.time.TIMER),r.setSetting(c,"time",i.time),a!==null){var e=window.getComputedStyle(a),o=e.getPropertyValue("width");a.style.transition="none",a.style.width=o}typeof s=="function"&&setTimeout(function(){s.apply(r)},10)}},resume:function(){typeof i.time.REMAINING!="undefined"?(n.classList.remove(t+"-paused"),a!==null&&(a.style.transition="width "+i.time.REMAINING+"ms "+i.progressBarEasing,a.style.width="0%"),i.time.END=(new Date).getTime()+i.time.REMAINING,i.time.TIMER=setTimeout(function(){clearTimeout(i.time.TIMER),n.classList.contains(t+"-closing")||(r.hide(i,n,"timeout"),typeof s=="function"&&s.apply(r))},i.time.REMAINING),r.setSetting(c,"time",i.time)):this.start()},reset:function(){clearTimeout(i.time.TIMER),delete i.time.REMAINING,r.setSetting(c,"time",i.time),n.classList.add(t+"-reseted"),n.classList.remove(t+"-paused"),a!==null&&(a.style.transition="none",a.style.width="100%"),typeof s=="function"&&setTimeout(function(){s.apply(r)},10)}}},n.hide=function(e,n,s){typeof n!="object"&&(n=document.querySelector(n));var a,r,d=this,i=o(this.children[n.getAttribute("data-iziToast-ref")],e||{});i.closedBy=s||null,delete i.time.REMAINING,n.classList.add(t+"-closing"),function(){var e,s,n=document.querySelector("."+t+"-overlay");n!==null&&(e=n.getAttribute("data-iziToast-ref"),e=e.split(","),s=e.indexOf(String(i.ref)),s!==-1&&e.splice(s,1),n.setAttribute("data-iziToast-ref",e.join()),e.length===0&&(n.classList.remove("fadeIn"),n.classList.add("fadeOut"),setTimeout(function(){n.remove()},700)))}(),i.transitionIn&&n.classList.remove(i.transitionIn),i.transitionInMobile&&n.classList.remove(i.transitionInMobile),c||window.innerWidth<=l?i.transitionOutMobile&&n.classList.add(i.transitionOutMobile):i.transitionOut&&n.classList.add(i.transitionOut),a=n.parentNode.offsetHeight,n.parentNode.style.height=a+"px",n.style.pointerEvents="none",(!c||window.innerWidth>l)&&(n.parentNode.style.transitionDelay="0.2s");try{r=new CustomEvent(t+"-closing",{detail:i,bubbles:!0,cancelable:!0}),document.dispatchEvent(r)}catch(e){console.warn(e)}setTimeout(function(){n.parentNode.style.height="0px",n.parentNode.style.overflow="",setTimeout(function(){delete d.children[i.ref],n.parentNode.remove();try{var e=new CustomEvent(t+"-closed",{detail:i,bubbles:!0,cancelable:!0});document.dispatchEvent(e)}catch(e){console.warn(e)}typeof i.onClosed!="undefined"&&i.onClosed.apply(null,[i,n,s])},1e3)},200),typeof i.onClosing!="undefined"&&i.onClosing.apply(null,[i,n,s])},n.show=function(e){var v,j,y,b=this,h=o(r,e||{}),h=o(u,h);if(h.time={},h.id===null&&(h.id=m(h.title+h.message+h.color)),h.displayMode===1||h.displayMode=="once")try{if(document.querySelectorAll("."+t+"#"+h.id).length>0)return!1}catch{console.warn("["+t+"] Could not find an element with this selector: #"+h.id+". Try to set an valid id.")}if(h.displayMode===2||h.displayMode=="replace")try{s(document.querySelectorAll("."+t+"#"+h.id),function(e){b.hide(h,e,"replaced")})}catch{console.warn("["+t+"] Could not find an element with this selector: #"+h.id+". Try to set an valid id.")}h.ref=(new Date).getTime()+Math.floor(Math.random()*1e7+1),n.children[h.ref]=h,v={body:document.querySelector("body"),overlay:document.createElement("div"),toast:document.createElement("div"),toastBody:document.createElement("div"),toastTexts:document.createElement("div"),toastCapsule:document.createElement("div"),cover:document.createElement("div"),buttons:document.createElement("div"),inputs:document.createElement("div"),icon:h.iconUrl?document.createElement("img"):document.createElement("i"),wrapper:null},v.toast.setAttribute("data-iziToast-ref",h.ref),v.toast.appendChild(v.toastBody),v.toastCapsule.appendChild(v.toast),function(){if(v.toast.classList.add(t),v.toast.classList.add(t+"-opening"),v.toastCapsule.classList.add(t+"-capsule"),v.toastBody.classList.add(t+"-body"),v.toastTexts.classList.add(t+"-texts"),c||window.innerWidth<=l?h.transitionInMobile&&v.toast.classList.add(h.transitionInMobile):h.transitionIn&&v.toast.classList.add(h.transitionIn),h.class){var e=h.class.split(" ");s(e,function(e){v.toast.classList.add(e)})}h.id&&(v.toast.id=h.id),h.rtl&&(v.toast.classList.add(t+"-rtl"),v.toast.setAttribute("dir","rtl")),h.layout>1&&v.toast.classList.add(t+"-layout"+h.layout),h.balloon&&v.toast.classList.add(t+"-balloon"),h.maxWidth&&(isNaN(h.maxWidth)?v.toast.style.maxWidth=h.maxWidth:v.toast.style.maxWidth=h.maxWidth+"px"),(h.theme!==""||h.theme!=="light")&&v.toast.classList.add(t+"-theme-"+h.theme),h.color&&(p(h.color)?v.toast.style.background=h.color:v.toast.classList.add(t+"-color-"+h.color)),h.backgroundColor&&(v.toast.style.background=h.backgroundColor,h.balloon&&(v.toast.style.borderColor=h.backgroundColor))}(),function(){h.image&&(v.cover.classList.add(t+"-cover"),v.cover.style.width=h.imageWidth+"px",g(h.image.replace(/ /g,""))?v.cover.style.backgroundImage="url(data:image/png;base64,"+h.image.replace(/ /g,"")+")":v.cover.style.backgroundImage="url("+h.image+")",h.rtl?v.toastBody.style.marginRight=h.imageWidth+10+"px":v.toastBody.style.marginLeft=h.imageWidth+10+"px",v.toast.appendChild(v.cover))}(),function(){h.close?(v.buttonClose=document.createElement("button"),v.buttonClose.type="button",v.buttonClose.classList.add(t+"-close"),v.buttonClose.addEventListener("click",function(e){var t=e.target;b.hide(h,v.toast,"button")}),v.toast.appendChild(v.buttonClose)):h.rtl?v.toast.style.paddingLeft="18px":v.toast.style.paddingRight="18px"}(),function(){h.progressBar&&(v.progressBar=document.createElement("div"),v.progressBarDiv=document.createElement("div"),v.progressBar.classList.add(t+"-progressbar"),v.progressBarDiv.style.background=h.progressBarColor,v.progressBar.appendChild(v.progressBarDiv),v.toast.appendChild(v.progressBar)),h.timeout&&(h.pauseOnHover&&!h.resetOnHover&&(v.toast.addEventListener("mouseenter",function(){b.progress(h,v.toast).pause()}),v.toast.addEventListener("mouseleave",function(){b.progress(h,v.toast).resume()})),h.resetOnHover&&(v.toast.addEventListener("mouseenter",function(){b.progress(h,v.toast).reset()}),v.toast.addEventListener("mouseleave",function(){b.progress(h,v.toast).start()})))}(),function(){h.iconUrl?(v.icon.setAttribute("class",t+"-icon"),v.icon.setAttribute("src",h.iconUrl)):h.icon&&(v.icon.setAttribute("class",t+"-icon "+h.icon),h.iconText&&v.icon.appendChild(document.createTextNode(h.iconText)),h.iconColor&&(v.icon.style.color=h.iconColor)),(h.icon||h.iconUrl)&&(h.rtl?v.toastBody.style.paddingRight="33px":v.toastBody.style.paddingLeft="33px",v.toastBody.appendChild(v.icon))}(),function(){h.title.length>0&&(v.strong=document.createElement("strong"),v.strong.classList.add(t+"-title"),v.strong.appendChild(a(h.title)),v.toastTexts.appendChild(v.strong),h.titleColor&&(v.strong.style.color=h.titleColor),h.titleSize&&(isNaN(h.titleSize)?v.strong.style.fontSize=h.titleSize:v.strong.style.fontSize=h.titleSize+"px"),h.titleLineHeight&&(isNaN(h.titleSize)?v.strong.style.lineHeight=h.titleLineHeight:v.strong.style.lineHeight=h.titleLineHeight+"px")),h.message.length>0&&(v.p=document.createElement("p"),v.p.classList.add(t+"-message"),v.p.appendChild(a(h.message)),v.toastTexts.appendChild(v.p),h.messageColor&&(v.p.style.color=h.messageColor),h.messageSize&&(isNaN(h.titleSize)?v.p.style.fontSize=h.messageSize:v.p.style.fontSize=h.messageSize+"px"),h.messageLineHeight&&(isNaN(h.titleSize)?v.p.style.lineHeight=h.messageLineHeight:v.p.style.lineHeight=h.messageLineHeight+"px")),h.title.length>0&&h.message.length>0&&(h.rtl?v.strong.style.marginLeft="10px":h.layout!==2&&!h.rtl&&(v.strong.style.marginRight="10px"))}(),v.toastBody.appendChild(v.toastTexts),function(){h.inputs.length>0&&(v.inputs.classList.add(t+"-inputs"),s(h.inputs,function(e,n){v.inputs.appendChild(a(e[0])),j=v.inputs.childNodes,j[n].classList.add(t+"-inputs-child"),e[3]&&setTimeout(function(){j[n].focus()},300),j[n].addEventListener(e[1],function(t){var n=e[2];return n(b,v.toast,this,t)})}),v.toastBody.appendChild(v.inputs))}(),function(){h.buttons.length>0&&(v.buttons.classList.add(t+"-buttons"),s(h.buttons,function(e,n){v.buttons.appendChild(a(e[0]));var s=v.buttons.childNodes;s[n].classList.add(t+"-buttons-child"),e[2]&&setTimeout(function(){s[n].focus()},300),s[n].addEventListener("click",function(t){t.preventDefault();var n=e[1];return n(b,v.toast,this,t,j)})})),v.toastBody.appendChild(v.buttons)}(),h.message.length>0&&(h.inputs.length>0||h.buttons.length>0)&&(v.p.style.marginBottom="0"),(h.inputs.length>0||h.buttons.length>0)&&(h.rtl?v.toastTexts.style.marginLeft="10px":v.toastTexts.style.marginRight="10px",h.inputs.length>0&&h.buttons.length>0&&(h.rtl?v.inputs.style.marginLeft="8px":v.inputs.style.marginRight="8px")),function(){v.toastCapsule.style.visibility="hidden",setTimeout(function(){var s=v.toast.offsetHeight,n=v.toast.currentStyle||window.getComputedStyle(v.toast),e=n.marginTop,e=e.split("px"),e=parseInt(e[0]),t=n.marginBottom,t=t.split("px"),t=parseInt(t[0]);v.toastCapsule.style.visibility="",v.toastCapsule.style.height=s+t+e+"px",setTimeout(function(){v.toastCapsule.style.height="auto",h.target&&(v.toastCapsule.style.overflow="visible")},500),h.timeout&&b.progress(h,v.toast).start()},100)}(),function(){var e=h.position;if(h.target)v.wrapper=document.querySelector(h.target),v.wrapper.classList.add(t+"-target"),h.targetFirst?v.wrapper.insertBefore(v.toastCapsule,v.wrapper.firstChild):v.wrapper.appendChild(v.toastCapsule);else{if(f.indexOf(h.position)==-1){console.warn("["+t+`] Incorrect position.
It can be › `+f);return}c||window.innerWidth<=l?h.position=="bottomLeft"||h.position=="bottomRight"||h.position=="bottomCenter"?e=t+"-wrapper-bottomCenter":h.position=="topLeft"||h.position=="topRight"||h.position=="topCenter"?e=t+"-wrapper-topCenter":e=t+"-wrapper-center":e=t+"-wrapper-"+e,v.wrapper=document.querySelector("."+t+"-wrapper."+e),v.wrapper||(v.wrapper=document.createElement("div"),v.wrapper.classList.add(t+"-wrapper"),v.wrapper.classList.add(e),document.body.appendChild(v.wrapper)),h.position=="topLeft"||h.position=="topCenter"||h.position=="topRight"?v.wrapper.insertBefore(v.toastCapsule,v.wrapper.firstChild):v.wrapper.appendChild(v.toastCapsule)}isNaN(h.zindex)?console.warn("["+t+"] Invalid zIndex."):v.wrapper.style.zIndex=h.zindex}(),function(){h.overlay&&(document.querySelector("."+t+"-overlay.fadeIn")!==null?(v.overlay=document.querySelector("."+t+"-overlay"),v.overlay.setAttribute("data-iziToast-ref",v.overlay.getAttribute("data-iziToast-ref")+","+h.ref),!isNaN(h.zindex)&&h.zindex!==null&&(v.overlay.style.zIndex=h.zindex-1)):(v.overlay.classList.add(t+"-overlay"),v.overlay.classList.add("fadeIn"),v.overlay.style.background=h.overlayColor,v.overlay.setAttribute("data-iziToast-ref",h.ref),!isNaN(h.zindex)&&h.zindex!==null&&(v.overlay.style.zIndex=h.zindex-1),document.querySelector("body").appendChild(v.overlay)),h.overlayClose?(v.overlay.removeEventListener("click",{}),v.overlay.addEventListener("click",function(){b.hide(h,v.toast,"overlay")})):v.overlay.removeEventListener("click",{}))}(),function(){if(h.animateInside){v.toast.classList.add(t+"-animateInside");var e,n=[200,100,300];(h.transitionIn=="bounceInLeft"||h.transitionIn=="bounceInRight")&&(n=[400,200,400]),h.title.length>0&&setTimeout(function(){v.strong.classList.add("slideIn")},n[0]),h.message.length>0&&setTimeout(function(){v.p.classList.add("slideIn")},n[1]),(h.icon||h.iconUrl)&&setTimeout(function(){v.icon.classList.add("revealIn")},n[2]),e=150,h.buttons.length>0&&v.buttons&&setTimeout(function(){s(v.buttons.childNodes,function(t){setTimeout(function(){t.classList.add("revealIn")},e),e=e+150})},h.inputs.length>0?150:0),h.inputs.length>0&&v.inputs&&(e=150,s(v.inputs.childNodes,function(t){setTimeout(function(){t.classList.add("revealIn")},e),e=e+150}))}}(),h.onOpening.apply(null,[h,v.toast]);try{y=new CustomEvent(t+"-opening",{detail:h,bubbles:!0,cancelable:!0}),document.dispatchEvent(y)}catch(e){console.warn(e)}setTimeout(function(){v.toast.classList.remove(t+"-opening"),v.toast.classList.add(t+"-opened");try{var e=new CustomEvent(t+"-opened",{detail:h,bubbles:!0,cancelable:!0});document.dispatchEvent(e)}catch(e){console.warn(e)}h.onOpened.apply(null,[h,v.toast])},1e3),h.drag&&(d?(v.toast.addEventListener("touchstart",function(e){i.startMoving(this,b,h,e)},!1),v.toast.addEventListener("touchend",function(e){i.stopMoving(this,e)},!1)):(v.toast.addEventListener("mousedown",function(e){e.preventDefault(),i.startMoving(this,b,h,e)},!1),v.toast.addEventListener("mouseup",function(e){e.preventDefault(),i.stopMoving(this,e)},!1))),h.closeOnEscape&&document.addEventListener("keyup",function(e){e=e||window.event,e.keyCode==27&&b.hide(h,v.toast,"esc")}),h.closeOnClick&&v.toast.addEventListener("click",function(){b.hide(h,v.toast,"toast")}),b.toast=v.toast},n})