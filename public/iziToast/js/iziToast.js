(function(e,t){typeof define=="function"&&define.amd?define([],t(e)):typeof exports=="object"?module.exports=t(e):e.iziToast=t(e)})(typeof global!="undefined"?global:window||this.window||this.global,function(){"use strict";var n,s,o,i,d,u,m,f,p,t={},e="iziToast",j=document.querySelector("body"),r=!!/Mobi/.test(navigator.userAgent),g=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor),v=typeof InstallTrigger!="undefined",a="ontouchstart"in document.documentElement,h=["bottomRight","bottomLeft","bottomCenter","topRight","topLeft","topCenter","center"],b={info:{color:"blue",icon:"ico-info"},success:{color:"green",icon:"ico-success"},warning:{color:"orange",icon:"ico-warning"},error:{color:"red",icon:"ico-error"},question:{color:"yellow",icon:"ico-question"}},l=568,c={};return t.children={},d={id:null,class:"",title:"",titleColor:"",titleSize:"",titleLineHeight:"",message:"",messageColor:"",messageSize:"",messageLineHeight:"",backgroundColor:"",theme:"light",color:"",icon:"",iconText:"",iconColor:"",iconUrl:null,image:"",imageWidth:50,maxWidth:null,zindex:null,layout:1,balloon:!1,close:!0,closeOnEscape:!1,closeOnClick:!1,displayMode:0,position:"bottomRight",target:"",targetFirst:!0,timeout:5e3,rtl:!1,animateInside:!0,drag:!0,pauseOnHover:!0,resetOnHover:!1,progressBar:!0,progressBarColor:"",progressBarEasing:"linear",overlay:!1,overlayClose:!1,overlayColor:"rgba(0, 0, 0, 0.6)",transitionIn:"fadeInUp",transitionOut:"fadeOut",transitionInMobile:"fadeInUp",transitionOutMobile:"fadeOutDown",buttons:{},inputs:{},onOpening:function(){},onOpened:function(){},onClosing:function(){},onClosed:function(){}},"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),typeof window.CustomEvent!="function"&&(u=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n},u.prototype=window.Event.prototype,window.CustomEvent=u),n=function(e,t,n){if(Object.prototype.toString.call(e)==="[object Object]")for(s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.call(n,e[s],s,e);else if(e)for(var s,o=0,i=e.length;o<i;o++)t.call(n,e[o],o,e)},s=function(e,t){var s={};return n(e,function(t,n){s[n]=e[n]}),n(t,function(e,n){s[n]=t[n]}),s},i=function(e){var n=document.createDocumentFragment(),t=document.createElement("div");for(t.innerHTML=e;t.firstChild;)n.appendChild(t.firstChild);return n},f=function(e){var t=btoa(encodeURIComponent(e));return t.replace(/=/g,"")},m=function(e){return e.substring(0,1)=="#"||e.substring(0,3)=="rgb"||e.substring(0,3)=="hsl"},p=function(e){try{return btoa(atob(e))==e}catch{return!1}},o=function(){return{move:function(t,n,o,i){var a,r=.3,c=180;i!==0&&(t.classList.add(e+"-dragged"),t.style.transform="translateX("+i+"px)",i>0?(a=(c-i)/c,a<r&&n.hide(s(o,{transitionOut:"fadeOutRight",transitionOutMobile:"fadeOutRight"}),t,"drag")):(a=(c+i)/c,a<r&&n.hide(s(o,{transitionOut:"fadeOutLeft",transitionOutMobile:"fadeOutLeft"}),t,"drag")),t.style.opacity=a,a<r&&((g||v)&&(t.style.left=i+"px"),t.parentNode.style.opacity=r,this.stopMoving(t,null)))},startMoving:function(e,t,n,s){s=s||window.event;var c=a?s.touches[0].clientX:s.clientX,i=e.style.transform.replace("px)",""),i=i.replace("translateX(",""),r=c-i;n.transitionIn&&e.classList.remove(n.transitionIn),n.transitionInMobile&&e.classList.remove(n.transitionInMobile),e.style.transition="",a?document.ontouchmove=function(s){s.preventDefault(),s=s||window.event;var i=s.touches[0].clientX,a=i-r;o.move(e,t,n,a)}:document.onmousemove=function(s){s.preventDefault(),s=s||window.event;var i=s.clientX,a=i-r;o.move(e,t,n,a)}},stopMoving:function(t){a?document.ontouchmove=function(){}:document.onmousemove=function(){},t.style.opacity="",t.style.transform="",t.classList.contains(e+"-dragged")&&(t.classList.remove(e+"-dragged"),t.style.transition="transform 0.4s ease, opacity 0.4s ease",setTimeout(function(){t.style.transition=""},400))}}}(),t.setSetting=function(e,n,s){t.children[e][n]=s},t.getSetting=function(e,n){return t.children[e][n]},t.destroy=function(){n(document.querySelectorAll("."+e+"-overlay"),function(e){e.remove()}),n(document.querySelectorAll("."+e+"-wrapper"),function(e){e.remove()}),n(document.querySelectorAll("."+e),function(e){e.remove()}),this.children={},document.removeEventListener(e+"-opened",{},!1),document.removeEventListener(e+"-opening",{},!1),document.removeEventListener(e+"-closing",{},!1),document.removeEventListener(e+"-closed",{},!1),document.removeEventListener("keyup",{},!1),c={}},t.settings=function(e){t.destroy(),c=e,d=s(d,e||{})},n(b,function(e,n){t[n]=function(t){var n=s(c,t||{}),n=s(e,n||{});this.show(n)}}),t.progress=function(t,n,o){var r=this,c=n.getAttribute("data-iziToast-ref"),i=s(this.children[c],t||{}),a=n.querySelector("."+e+"-progressbar div");return{start:function(){typeof i.time.REMAINING=="undefined"&&(n.classList.remove(e+"-reseted"),a!==null&&(a.style.transition="width "+i.timeout+"ms "+i.progressBarEasing,a.style.width="0%"),i.time.START=(new Date).getTime(),i.time.END=i.time.START+i.timeout,i.time.TIMER=setTimeout(function(){clearTimeout(i.time.TIMER),n.classList.contains(e+"-closing")||(r.hide(i,n,"timeout"),typeof o=="function"&&o.apply(r))},i.timeout),r.setSetting(c,"time",i.time))},pause:function(){if(typeof i.time.START!="undefined"&&!n.classList.contains(e+"-paused")&&!n.classList.contains(e+"-reseted")){if(n.classList.add(e+"-paused"),i.time.REMAINING=i.time.END-(new Date).getTime(),clearTimeout(i.time.TIMER),r.setSetting(c,"time",i.time),a!==null){var t=window.getComputedStyle(a),s=t.getPropertyValue("width");a.style.transition="none",a.style.width=s}typeof o=="function"&&setTimeout(function(){o.apply(r)},10)}},resume:function(){typeof i.time.REMAINING!="undefined"?(n.classList.remove(e+"-paused"),a!==null&&(a.style.transition="width "+i.time.REMAINING+"ms "+i.progressBarEasing,a.style.width="0%"),i.time.END=(new Date).getTime()+i.time.REMAINING,i.time.TIMER=setTimeout(function(){clearTimeout(i.time.TIMER),n.classList.contains(e+"-closing")||(r.hide(i,n,"timeout"),typeof o=="function"&&o.apply(r))},i.time.REMAINING),r.setSetting(c,"time",i.time)):this.start()},reset:function(){clearTimeout(i.time.TIMER),delete i.time.REMAINING,r.setSetting(c,"time",i.time),n.classList.add(e+"-reseted"),n.classList.remove(e+"-paused"),a!==null&&(a.style.transition="none",a.style.width="100%"),typeof o=="function"&&setTimeout(function(){o.apply(r)},10)}}},t.hide=function(t,n,o){typeof n!="object"&&(n=document.querySelector(n));var a,c,d=this,i=s(this.children[n.getAttribute("data-iziToast-ref")],t||{});i.closedBy=o||null,delete i.time.REMAINING,n.classList.add(e+"-closing"),function(){var t,s,n=document.querySelector("."+e+"-overlay");n!==null&&(t=n.getAttribute("data-iziToast-ref"),t=t.split(","),s=t.indexOf(String(i.ref)),s!==-1&&t.splice(s,1),n.setAttribute("data-iziToast-ref",t.join()),t.length===0&&(n.classList.remove("fadeIn"),n.classList.add("fadeOut"),setTimeout(function(){n.remove()},700)))}(),i.transitionIn&&n.classList.remove(i.transitionIn),i.transitionInMobile&&n.classList.remove(i.transitionInMobile),r||window.innerWidth<=l?i.transitionOutMobile&&n.classList.add(i.transitionOutMobile):i.transitionOut&&n.classList.add(i.transitionOut),a=n.parentNode.offsetHeight,n.parentNode.style.height=a+"px",n.style.pointerEvents="none",(!r||window.innerWidth>l)&&(n.parentNode.style.transitionDelay="0.2s");try{c=new CustomEvent(e+"-closing",{detail:i,bubbles:!0,cancelable:!0}),document.dispatchEvent(c)}catch(e){console.warn(e)}setTimeout(function(){n.parentNode.style.height="0px",n.parentNode.style.overflow="",setTimeout(function(){delete d.children[i.ref],n.parentNode.remove();try{var t=new CustomEvent(e+"-closed",{detail:i,bubbles:!0,cancelable:!0});document.dispatchEvent(t)}catch(e){console.warn(e)}typeof i.onClosed!="undefined"&&i.onClosed.apply(null,[i,n,o])},1e3)},200),typeof i.onClosing!="undefined"&&i.onClosing.apply(null,[i,n,o])},t.show=function(u){var v,j,y,b=this,g=s(c,u||{}),g=s(d,g);if(g.time={},g.id===null&&(g.id=f(g.title+g.message+g.color)),g.displayMode===1||g.displayMode=="once")try{if(document.querySelectorAll("."+e+"#"+g.id).length>0)return!1}catch{console.warn("["+e+"] Could not find an element with this selector: #"+g.id+". Try to set an valid id.")}if(g.displayMode===2||g.displayMode=="replace")try{n(document.querySelectorAll("."+e+"#"+g.id),function(e){b.hide(g,e,"replaced")})}catch{console.warn("["+e+"] Could not find an element with this selector: #"+g.id+". Try to set an valid id.")}g.ref=(new Date).getTime()+Math.floor(Math.random()*1e7+1),t.children[g.ref]=g,v={body:document.querySelector("body"),overlay:document.createElement("div"),toast:document.createElement("div"),toastBody:document.createElement("div"),toastTexts:document.createElement("div"),toastCapsule:document.createElement("div"),cover:document.createElement("div"),buttons:document.createElement("div"),inputs:document.createElement("div"),icon:g.iconUrl?document.createElement("img"):document.createElement("i"),wrapper:null},v.toast.setAttribute("data-iziToast-ref",g.ref),v.toast.appendChild(v.toastBody),v.toastCapsule.appendChild(v.toast),function(){if(v.toast.classList.add(e),v.toast.classList.add(e+"-opening"),v.toastCapsule.classList.add(e+"-capsule"),v.toastBody.classList.add(e+"-body"),v.toastTexts.classList.add(e+"-texts"),r||window.innerWidth<=l?g.transitionInMobile&&v.toast.classList.add(g.transitionInMobile):g.transitionIn&&v.toast.classList.add(g.transitionIn),g.class){var t=g.class.split(" ");n(t,function(e){v.toast.classList.add(e)})}g.id&&(v.toast.id=g.id),g.rtl&&(v.toast.classList.add(e+"-rtl"),v.toast.setAttribute("dir","rtl")),g.layout>1&&v.toast.classList.add(e+"-layout"+g.layout),g.balloon&&v.toast.classList.add(e+"-balloon"),g.maxWidth&&(isNaN(g.maxWidth)?v.toast.style.maxWidth=g.maxWidth:v.toast.style.maxWidth=g.maxWidth+"px"),(g.theme!==""||g.theme!=="light")&&v.toast.classList.add(e+"-theme-"+g.theme),g.color&&(m(g.color)?v.toast.style.background=g.color:v.toast.classList.add(e+"-color-"+g.color)),g.backgroundColor&&(v.toast.style.background=g.backgroundColor,g.balloon&&(v.toast.style.borderColor=g.backgroundColor))}(),function(){g.image&&(v.cover.classList.add(e+"-cover"),v.cover.style.width=g.imageWidth+"px",p(g.image.replace(/ /g,""))?v.cover.style.backgroundImage="url(data:image/png;base64,"+g.image.replace(/ /g,"")+")":v.cover.style.backgroundImage="url("+g.image+")",g.rtl?v.toastBody.style.marginRight=g.imageWidth+10+"px":v.toastBody.style.marginLeft=g.imageWidth+10+"px",v.toast.appendChild(v.cover))}(),function(){g.close?(v.buttonClose=document.createElement("button"),v.buttonClose.type="button",v.buttonClose.classList.add(e+"-close"),v.buttonClose.addEventListener("click",function(e){var t=e.target;b.hide(g,v.toast,"button")}),v.toast.appendChild(v.buttonClose)):g.rtl?v.toast.style.paddingLeft="18px":v.toast.style.paddingRight="18px"}(),function(){g.progressBar&&(v.progressBar=document.createElement("div"),v.progressBarDiv=document.createElement("div"),v.progressBar.classList.add(e+"-progressbar"),v.progressBarDiv.style.background=g.progressBarColor,v.progressBar.appendChild(v.progressBarDiv),v.toast.appendChild(v.progressBar)),g.timeout&&(g.pauseOnHover&&!g.resetOnHover&&(v.toast.addEventListener("mouseenter",function(){b.progress(g,v.toast).pause()}),v.toast.addEventListener("mouseleave",function(){b.progress(g,v.toast).resume()})),g.resetOnHover&&(v.toast.addEventListener("mouseenter",function(){b.progress(g,v.toast).reset()}),v.toast.addEventListener("mouseleave",function(){b.progress(g,v.toast).start()})))}(),function(){g.iconUrl?(v.icon.setAttribute("class",e+"-icon"),v.icon.setAttribute("src",g.iconUrl)):g.icon&&(v.icon.setAttribute("class",e+"-icon "+g.icon),g.iconText&&v.icon.appendChild(document.createTextNode(g.iconText)),g.iconColor&&(v.icon.style.color=g.iconColor)),(g.icon||g.iconUrl)&&(g.rtl?v.toastBody.style.paddingRight="33px":v.toastBody.style.paddingLeft="33px",v.toastBody.appendChild(v.icon))}(),function(){g.title.length>0&&(v.strong=document.createElement("strong"),v.strong.classList.add(e+"-title"),v.strong.appendChild(i(g.title)),v.toastTexts.appendChild(v.strong),g.titleColor&&(v.strong.style.color=g.titleColor),g.titleSize&&(isNaN(g.titleSize)?v.strong.style.fontSize=g.titleSize:v.strong.style.fontSize=g.titleSize+"px"),g.titleLineHeight&&(isNaN(g.titleSize)?v.strong.style.lineHeight=g.titleLineHeight:v.strong.style.lineHeight=g.titleLineHeight+"px")),g.message.length>0&&(v.p=document.createElement("p"),v.p.classList.add(e+"-message"),v.p.appendChild(i(g.message)),v.toastTexts.appendChild(v.p),g.messageColor&&(v.p.style.color=g.messageColor),g.messageSize&&(isNaN(g.titleSize)?v.p.style.fontSize=g.messageSize:v.p.style.fontSize=g.messageSize+"px"),g.messageLineHeight&&(isNaN(g.titleSize)?v.p.style.lineHeight=g.messageLineHeight:v.p.style.lineHeight=g.messageLineHeight+"px")),g.title.length>0&&g.message.length>0&&(g.rtl?v.strong.style.marginLeft="10px":g.layout!==2&&!g.rtl&&(v.strong.style.marginRight="10px"))}(),v.toastBody.appendChild(v.toastTexts),function(){g.inputs.length>0&&(v.inputs.classList.add(e+"-inputs"),n(g.inputs,function(t,n){v.inputs.appendChild(i(t[0])),j=v.inputs.childNodes,j[n].classList.add(e+"-inputs-child"),t[3]&&setTimeout(function(){j[n].focus()},300),j[n].addEventListener(t[1],function(e){var n=t[2];return n(b,v.toast,this,e)})}),v.toastBody.appendChild(v.inputs))}(),function(){g.buttons.length>0&&(v.buttons.classList.add(e+"-buttons"),n(g.buttons,function(t,n){v.buttons.appendChild(i(t[0]));var s=v.buttons.childNodes;s[n].classList.add(e+"-buttons-child"),t[2]&&setTimeout(function(){s[n].focus()},300),s[n].addEventListener("click",function(e){e.preventDefault();var n=t[1];return n(b,v.toast,this,e,j)})})),v.toastBody.appendChild(v.buttons)}(),g.message.length>0&&(g.inputs.length>0||g.buttons.length>0)&&(v.p.style.marginBottom="0"),(g.inputs.length>0||g.buttons.length>0)&&(g.rtl?v.toastTexts.style.marginLeft="10px":v.toastTexts.style.marginRight="10px",g.inputs.length>0&&g.buttons.length>0&&(g.rtl?v.inputs.style.marginLeft="8px":v.inputs.style.marginRight="8px")),function(){v.toastCapsule.style.visibility="hidden",setTimeout(function(){var s=v.toast.offsetHeight,n=v.toast.currentStyle||window.getComputedStyle(v.toast),e=n.marginTop,e=e.split("px"),e=parseInt(e[0]),t=n.marginBottom,t=t.split("px"),t=parseInt(t[0]);v.toastCapsule.style.visibility="",v.toastCapsule.style.height=s+t+e+"px",setTimeout(function(){v.toastCapsule.style.height="auto",g.target&&(v.toastCapsule.style.overflow="visible")},500),g.timeout&&b.progress(g,v.toast).start()},100)}(),function(){var t=g.position;if(g.target)v.wrapper=document.querySelector(g.target),v.wrapper.classList.add(e+"-target"),g.targetFirst?v.wrapper.insertBefore(v.toastCapsule,v.wrapper.firstChild):v.wrapper.appendChild(v.toastCapsule);else{if(h.indexOf(g.position)==-1){console.warn("["+e+`] Incorrect position.
It can be › `+h);return}r||window.innerWidth<=l?g.position=="bottomLeft"||g.position=="bottomRight"||g.position=="bottomCenter"?t=e+"-wrapper-bottomCenter":g.position=="topLeft"||g.position=="topRight"||g.position=="topCenter"?t=e+"-wrapper-topCenter":t=e+"-wrapper-center":t=e+"-wrapper-"+t,v.wrapper=document.querySelector("."+e+"-wrapper."+t),v.wrapper||(v.wrapper=document.createElement("div"),v.wrapper.classList.add(e+"-wrapper"),v.wrapper.classList.add(t),document.body.appendChild(v.wrapper)),g.position=="topLeft"||g.position=="topCenter"||g.position=="topRight"?v.wrapper.insertBefore(v.toastCapsule,v.wrapper.firstChild):v.wrapper.appendChild(v.toastCapsule)}isNaN(g.zindex)?console.warn("["+e+"] Invalid zIndex."):v.wrapper.style.zIndex=g.zindex}(),function(){g.overlay&&(document.querySelector("."+e+"-overlay.fadeIn")!==null?(v.overlay=document.querySelector("."+e+"-overlay"),v.overlay.setAttribute("data-iziToast-ref",v.overlay.getAttribute("data-iziToast-ref")+","+g.ref),!isNaN(g.zindex)&&g.zindex!==null&&(v.overlay.style.zIndex=g.zindex-1)):(v.overlay.classList.add(e+"-overlay"),v.overlay.classList.add("fadeIn"),v.overlay.style.background=g.overlayColor,v.overlay.setAttribute("data-iziToast-ref",g.ref),!isNaN(g.zindex)&&g.zindex!==null&&(v.overlay.style.zIndex=g.zindex-1),document.querySelector("body").appendChild(v.overlay)),g.overlayClose?(v.overlay.removeEventListener("click",{}),v.overlay.addEventListener("click",function(){b.hide(g,v.toast,"overlay")})):v.overlay.removeEventListener("click",{}))}(),function(){if(g.animateInside){v.toast.classList.add(e+"-animateInside");var t,s=[200,100,300];(g.transitionIn=="bounceInLeft"||g.transitionIn=="bounceInRight")&&(s=[400,200,400]),g.title.length>0&&setTimeout(function(){v.strong.classList.add("slideIn")},s[0]),g.message.length>0&&setTimeout(function(){v.p.classList.add("slideIn")},s[1]),(g.icon||g.iconUrl)&&setTimeout(function(){v.icon.classList.add("revealIn")},s[2]),t=150,g.buttons.length>0&&v.buttons&&setTimeout(function(){n(v.buttons.childNodes,function(e){setTimeout(function(){e.classList.add("revealIn")},t),t=t+150})},g.inputs.length>0?150:0),g.inputs.length>0&&v.inputs&&(t=150,n(v.inputs.childNodes,function(e){setTimeout(function(){e.classList.add("revealIn")},t),t=t+150}))}}(),g.onOpening.apply(null,[g,v.toast]);try{y=new CustomEvent(e+"-opening",{detail:g,bubbles:!0,cancelable:!0}),document.dispatchEvent(y)}catch(e){console.warn(e)}setTimeout(function(){v.toast.classList.remove(e+"-opening"),v.toast.classList.add(e+"-opened");try{var t=new CustomEvent(e+"-opened",{detail:g,bubbles:!0,cancelable:!0});document.dispatchEvent(t)}catch(e){console.warn(e)}g.onOpened.apply(null,[g,v.toast])},1e3),g.drag&&(a?(v.toast.addEventListener("touchstart",function(e){o.startMoving(this,b,g,e)},!1),v.toast.addEventListener("touchend",function(e){o.stopMoving(this,e)},!1)):(v.toast.addEventListener("mousedown",function(e){e.preventDefault(),o.startMoving(this,b,g,e)},!1),v.toast.addEventListener("mouseup",function(e){e.preventDefault(),o.stopMoving(this,e)},!1))),g.closeOnEscape&&document.addEventListener("keyup",function(e){e=e||window.event,e.keyCode==27&&b.hide(g,v.toast,"esc")}),g.closeOnClick&&v.toast.addEventListener("click",function(){b.hide(g,v.toast,"toast")}),b.toast=v.toast},t})