!function(e,t){"function"==typeof define&&define.amd?define([],t(e)):"object"==typeof exports?module.exports=t(e):e.iziToast=t(e)}("undefined"!=typeof global?global:window||this.window||this.global,function(){"use strict";var u,h,n={},t="iziToast",c=(document.querySelector("body"),!!/Mobi/.test(navigator.userAgent)),p=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor),f="undefined"!=typeof InstallTrigger,l="ontouchstart"in document.documentElement,m=["bottomRight","bottomLeft","bottomCenter","topRight","topLeft","topCenter","center"],j={info:{color:"blue",icon:"ico-info"},success:{color:"green",icon:"ico-success"},warning:{color:"orange",icon:"ico-warning"},error:{color:"red",icon:"ico-error"},question:{color:"yellow",icon:"ico-question"}},a=568,d={};n.children={},u={id:null,class:"",title:"",titleColor:"",titleSize:"",titleLineHeight:"",message:"",messageColor:"",messageSize:"",messageLineHeight:"",backgroundColor:"",theme:"light",color:"",icon:"",iconText:"",iconColor:"",iconUrl:null,image:"",imageWidth:50,maxWidth:null,zindex:null,layout:1,balloon:!1,close:!0,closeOnEscape:!1,closeOnClick:!1,displayMode:0,position:"bottomRight",target:"",targetFirst:!0,timeout:5e3,rtl:!1,animateInside:!0,drag:!0,pauseOnHover:!0,resetOnHover:!1,progressBar:!0,progressBarColor:"",progressBarEasing:"linear",overlay:!1,overlayClose:!1,overlayColor:"rgba(0, 0, 0, 0.6)",transitionIn:"fadeInUp",transitionOut:"fadeOut",transitionInMobile:"fadeInUp",transitionOutMobile:"fadeOutDown",buttons:{},inputs:{},onOpening:function(){},onOpened:function(){},onClosing:function(){},onClosed:function(){}},("remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),"function"!=typeof window.CustomEvent)&&(h=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n},h.prototype=window.Event.prototype,window.CustomEvent=h);var s=function(e,t,n){if("[object Object]"===Object.prototype.toString.call(e))for(o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(n,e[o],o,e);else if(e)for(var o,s=0,i=e.length;i>s;s++)t.call(n,e[s],s,e)},o=function(e,t){var n={};return s(e,function(t,s){n[s]=e[s]}),s(t,function(e,s){n[s]=t[s]}),n},r=function(e){var n=document.createDocumentFragment(),t=document.createElement("div");for(t.innerHTML=e;t.firstChild;)n.appendChild(t.firstChild);return n},g=function(e){var t=btoa(encodeURIComponent(e));return t.replace(/=/g,"")},v=function(e){return"#"==e.substring(0,1)||"rgb"==e.substring(0,3)||"hsl"==e.substring(0,3)},b=function(e){try{return btoa(atob(e))==e}catch{return!1}},i=function(){return{move:function(e,n,s,i){var a,r=.3,c=180;0!==i&&(e.classList.add(t+"-dragged"),e.style.transform="translateX("+i+"px)",i>0?(a=(c-i)/c,r>a&&n.hide(o(s,{transitionOut:"fadeOutRight",transitionOutMobile:"fadeOutRight"}),e,"drag")):(a=(c+i)/c,r>a&&n.hide(o(s,{transitionOut:"fadeOutLeft",transitionOutMobile:"fadeOutLeft"}),e,"drag")),e.style.opacity=a,r>a&&((p||f)&&(e.style.left=i+"px"),e.parentNode.style.opacity=r,this.stopMoving(e,null)))},startMoving:function(e,t,n,s){s=s||window.event;var r=l?s.touches[0].clientX:s.clientX,o=e.style.transform.replace("px)",""),o=o.replace("translateX(",""),a=r-o;n.transitionIn&&e.classList.remove(n.transitionIn),n.transitionInMobile&&e.classList.remove(n.transitionInMobile),e.style.transition="",l?document.ontouchmove=function(s){s.preventDefault(),s=s||window.event;var o=s.touches[0].clientX,r=o-a;i.move(e,t,n,r)}:document.onmousemove=function(s){s.preventDefault(),s=s||window.event;var o=s.clientX,r=o-a;i.move(e,t,n,r)}},stopMoving:function(e){l?document.ontouchmove=function(){}:document.onmousemove=function(){},e.style.opacity="",e.style.transform="",e.classList.contains(t+"-dragged")&&(e.classList.remove(t+"-dragged"),e.style.transition="transform 0.4s ease, opacity 0.4s ease",setTimeout(function(){e.style.transition=""},400))}}}();return n.setSetting=function(e,t,s){n.children[e][t]=s},n.getSetting=function(e,t){return n.children[e][t]},n.destroy=function(){s(document.querySelectorAll("."+t+"-overlay"),function(e){e.remove()}),s(document.querySelectorAll("."+t+"-wrapper"),function(e){e.remove()}),s(document.querySelectorAll("."+t),function(e){e.remove()}),this.children={},document.removeEventListener(t+"-opened",{},!1),document.removeEventListener(t+"-opening",{},!1),document.removeEventListener(t+"-closing",{},!1),document.removeEventListener(t+"-closed",{},!1),document.removeEventListener("keyup",{},!1),d={}},n.settings=function(e){n.destroy(),d=e,u=o(u,e||{})},s(j,function(e,t){n[t]=function(t){var n=o(d,t||{}),n=o(e,n||{});this.show(n)}}),n.progress=function(e,n,s){var r=this,c=n.getAttribute("data-iziToast-ref"),i=o(this.children[c],e||{}),a=n.querySelector("."+t+"-progressbar div");return{start:function(){"undefined"==typeof i.time.REMAINING&&(n.classList.remove(t+"-reseted"),null!==a&&(a.style.transition="width "+i.timeout+"ms "+i.progressBarEasing,a.style.width="0%"),i.time.START=(new Date).getTime(),i.time.END=i.time.START+i.timeout,i.time.TIMER=setTimeout(function(){clearTimeout(i.time.TIMER),n.classList.contains(t+"-closing")||(r.hide(i,n,"timeout"),"function"==typeof s&&s.apply(r))},i.timeout),r.setSetting(c,"time",i.time))},pause:function(){if("undefined"!=typeof i.time.START&&!n.classList.contains(t+"-paused")&&!n.classList.contains(t+"-reseted")){if(n.classList.add(t+"-paused"),i.time.REMAINING=i.time.END-(new Date).getTime(),clearTimeout(i.time.TIMER),r.setSetting(c,"time",i.time),null!==a){var e=window.getComputedStyle(a),o=e.getPropertyValue("width");a.style.transition="none",a.style.width=o}"function"==typeof s&&setTimeout(function(){s.apply(r)},10)}},resume:function(){"undefined"!=typeof i.time.REMAINING?(n.classList.remove(t+"-paused"),null!==a&&(a.style.transition="width "+i.time.REMAINING+"ms "+i.progressBarEasing,a.style.width="0%"),i.time.END=(new Date).getTime()+i.time.REMAINING,i.time.TIMER=setTimeout(function(){clearTimeout(i.time.TIMER),n.classList.contains(t+"-closing")||(r.hide(i,n,"timeout"),"function"==typeof s&&s.apply(r))},i.time.REMAINING),r.setSetting(c,"time",i.time)):this.start()},reset:function(){clearTimeout(i.time.TIMER),delete i.time.REMAINING,r.setSetting(c,"time",i.time),n.classList.add(t+"-reseted"),n.classList.remove(t+"-paused"),null!==a&&(a.style.transition="none",a.style.width="100%"),"function"==typeof s&&setTimeout(function(){s.apply(r)},10)}}},n.hide=function(e,n,s){"object"!=typeof n&&(n=document.querySelector(n));var r,l,d=this,i=o(this.children[n.getAttribute("data-iziToast-ref")],e||{});i.closedBy=s||null,delete i.time.REMAINING,n.classList.add(t+"-closing"),function(){var e,s,n=document.querySelector("."+t+"-overlay");null!==n&&(e=n.getAttribute("data-iziToast-ref"),e=e.split(","),s=e.indexOf(String(i.ref)),-1!==s&&e.splice(s,1),n.setAttribute("data-iziToast-ref",e.join()),0===e.length&&(n.classList.remove("fadeIn"),n.classList.add("fadeOut"),setTimeout(function(){n.remove()},700)))}(),i.transitionIn&&n.classList.remove(i.transitionIn),i.transitionInMobile&&n.classList.remove(i.transitionInMobile),c||window.innerWidth<=a?i.transitionOutMobile&&n.classList.add(i.transitionOutMobile):i.transitionOut&&n.classList.add(i.transitionOut),r=n.parentNode.offsetHeight,n.parentNode.style.height=r+"px",n.style.pointerEvents="none",(!c||window.innerWidth>a)&&(n.parentNode.style.transitionDelay="0.2s");try{l=new CustomEvent(t+"-closing",{detail:i,bubbles:!0,cancelable:!0}),document.dispatchEvent(l)}catch(e){console.warn(e)}setTimeout(function(){n.parentNode.style.height="0px",n.parentNode.style.overflow="",setTimeout(function(){delete d.children[i.ref],n.parentNode.remove();try{var e=new CustomEvent(t+"-closed",{detail:i,bubbles:!0,cancelable:!0});document.dispatchEvent(e)}catch(e){console.warn(e)}"undefined"!=typeof i.onClosed&&i.onClosed.apply(null,[i,n,s])},1e3)},200),"undefined"!=typeof i.onClosing&&i.onClosing.apply(null,[i,n,s])},n.show=function(e){var f,j,y,p=this,h=o(d,e||{});if(h=o(u,h),h.time={},null===h.id&&(h.id=g(h.title+h.message+h.color)),1===h.displayMode||"once"==h.displayMode)try{if(document.querySelectorAll("."+t+"#"+h.id).length>0)return!1}catch{console.warn("["+t+"] Could not find an element with this selector: #"+h.id+". Try to set an valid id.")}if(2===h.displayMode||"replace"==h.displayMode)try{s(document.querySelectorAll("."+t+"#"+h.id),function(e){p.hide(h,e,"replaced")})}catch{console.warn("["+t+"] Could not find an element with this selector: #"+h.id+". Try to set an valid id.")}h.ref=(new Date).getTime()+Math.floor(1e7*Math.random()+1),n.children[h.ref]=h,f={body:document.querySelector("body"),overlay:document.createElement("div"),toast:document.createElement("div"),toastBody:document.createElement("div"),toastTexts:document.createElement("div"),toastCapsule:document.createElement("div"),cover:document.createElement("div"),buttons:document.createElement("div"),inputs:document.createElement("div"),icon:h.iconUrl?document.createElement("img"):document.createElement("i"),wrapper:null},f.toast.setAttribute("data-iziToast-ref",h.ref),f.toast.appendChild(f.toastBody),f.toastCapsule.appendChild(f.toast),function(){if(f.toast.classList.add(t),f.toast.classList.add(t+"-opening"),f.toastCapsule.classList.add(t+"-capsule"),f.toastBody.classList.add(t+"-body"),f.toastTexts.classList.add(t+"-texts"),c||window.innerWidth<=a?h.transitionInMobile&&f.toast.classList.add(h.transitionInMobile):h.transitionIn&&f.toast.classList.add(h.transitionIn),h.class){var e=h.class.split(" ");s(e,function(e){f.toast.classList.add(e)})}h.id&&(f.toast.id=h.id),h.rtl&&(f.toast.classList.add(t+"-rtl"),f.toast.setAttribute("dir","rtl")),h.layout>1&&f.toast.classList.add(t+"-layout"+h.layout),h.balloon&&f.toast.classList.add(t+"-balloon"),h.maxWidth&&(isNaN(h.maxWidth)?f.toast.style.maxWidth=h.maxWidth:f.toast.style.maxWidth=h.maxWidth+"px"),""===h.theme&&"light"===h.theme||f.toast.classList.add(t+"-theme-"+h.theme),h.color&&(v(h.color)?f.toast.style.background=h.color:f.toast.classList.add(t+"-color-"+h.color)),h.backgroundColor&&(f.toast.style.background=h.backgroundColor,h.balloon&&(f.toast.style.borderColor=h.backgroundColor))}(),function(){h.image&&(f.cover.classList.add(t+"-cover"),f.cover.style.width=h.imageWidth+"px",b(h.image.replace(/ /g,""))?f.cover.style.backgroundImage="url(data:image/png;base64,"+h.image.replace(/ /g,"")+")":f.cover.style.backgroundImage="url("+h.image+")",h.rtl?f.toastBody.style.marginRight=h.imageWidth+10+"px":f.toastBody.style.marginLeft=h.imageWidth+10+"px",f.toast.appendChild(f.cover))}(),function(){h.close?(f.buttonClose=document.createElement("button"),f.buttonClose.type="button",f.buttonClose.classList.add(t+"-close"),f.buttonClose.addEventListener("click",function(e){e.target,p.hide(h,f.toast,"button")}),f.toast.appendChild(f.buttonClose)):h.rtl?f.toast.style.paddingLeft="18px":f.toast.style.paddingRight="18px"}(),function(){h.progressBar&&(f.progressBar=document.createElement("div"),f.progressBarDiv=document.createElement("div"),f.progressBar.classList.add(t+"-progressbar"),f.progressBarDiv.style.background=h.progressBarColor,f.progressBar.appendChild(f.progressBarDiv),f.toast.appendChild(f.progressBar)),h.timeout&&(h.pauseOnHover&&!h.resetOnHover&&(f.toast.addEventListener("mouseenter",function(){p.progress(h,f.toast).pause()}),f.toast.addEventListener("mouseleave",function(){p.progress(h,f.toast).resume()})),h.resetOnHover&&(f.toast.addEventListener("mouseenter",function(){p.progress(h,f.toast).reset()}),f.toast.addEventListener("mouseleave",function(){p.progress(h,f.toast).start()})))}(),function(){h.iconUrl?(f.icon.setAttribute("class",t+"-icon"),f.icon.setAttribute("src",h.iconUrl)):h.icon&&(f.icon.setAttribute("class",t+"-icon "+h.icon),h.iconText&&f.icon.appendChild(document.createTextNode(h.iconText)),h.iconColor&&(f.icon.style.color=h.iconColor)),(h.icon||h.iconUrl)&&(h.rtl?f.toastBody.style.paddingRight="33px":f.toastBody.style.paddingLeft="33px",f.toastBody.appendChild(f.icon))}(),function(){h.title.length>0&&(f.strong=document.createElement("strong"),f.strong.classList.add(t+"-title"),f.strong.appendChild(r(h.title)),f.toastTexts.appendChild(f.strong),h.titleColor&&(f.strong.style.color=h.titleColor),h.titleSize&&(isNaN(h.titleSize)?f.strong.style.fontSize=h.titleSize:f.strong.style.fontSize=h.titleSize+"px"),h.titleLineHeight&&(isNaN(h.titleSize)?f.strong.style.lineHeight=h.titleLineHeight:f.strong.style.lineHeight=h.titleLineHeight+"px")),h.message.length>0&&(f.p=document.createElement("p"),f.p.classList.add(t+"-message"),f.p.appendChild(r(h.message)),f.toastTexts.appendChild(f.p),h.messageColor&&(f.p.style.color=h.messageColor),h.messageSize&&(isNaN(h.titleSize)?f.p.style.fontSize=h.messageSize:f.p.style.fontSize=h.messageSize+"px"),h.messageLineHeight&&(isNaN(h.titleSize)?f.p.style.lineHeight=h.messageLineHeight:f.p.style.lineHeight=h.messageLineHeight+"px")),h.title.length>0&&h.message.length>0&&(h.rtl?f.strong.style.marginLeft="10px":2===h.layout||h.rtl||(f.strong.style.marginRight="10px"))}(),f.toastBody.appendChild(f.toastTexts),!function(){h.inputs.length>0&&(f.inputs.classList.add(t+"-inputs"),s(h.inputs,function(e,n){f.inputs.appendChild(r(e[0])),j=f.inputs.childNodes,j[n].classList.add(t+"-inputs-child"),e[3]&&setTimeout(function(){j[n].focus()},300),j[n].addEventListener(e[1],function(t){var n=e[2];return n(p,f.toast,this,t)})}),f.toastBody.appendChild(f.inputs))}(),function(){h.buttons.length>0&&(f.buttons.classList.add(t+"-buttons"),s(h.buttons,function(e,n){f.buttons.appendChild(r(e[0]));var s=f.buttons.childNodes;s[n].classList.add(t+"-buttons-child"),e[2]&&setTimeout(function(){s[n].focus()},300),s[n].addEventListener("click",function(t){t.preventDefault();var n=e[1];return n(p,f.toast,this,t,j)})})),f.toastBody.appendChild(f.buttons)}(),h.message.length>0&&(h.inputs.length>0||h.buttons.length>0)&&(f.p.style.marginBottom="0"),(h.inputs.length>0||h.buttons.length>0)&&(h.rtl?f.toastTexts.style.marginLeft="10px":f.toastTexts.style.marginRight="10px",h.inputs.length>0&&h.buttons.length>0&&(h.rtl?f.inputs.style.marginLeft="8px":f.inputs.style.marginRight="8px")),function(){f.toastCapsule.style.visibility="hidden",setTimeout(function(){var s=f.toast.offsetHeight,n=f.toast.currentStyle||window.getComputedStyle(f.toast),e=n.marginTop,e=e.split("px"),e=parseInt(e[0]),t=n.marginBottom,t=t.split("px"),t=parseInt(t[0]);f.toastCapsule.style.visibility="",f.toastCapsule.style.height=s+t+e+"px",setTimeout(function(){f.toastCapsule.style.height="auto",h.target&&(f.toastCapsule.style.overflow="visible")},500),h.timeout&&p.progress(h,f.toast).start()},100)}(),function(){var e=h.position;if(h.target)f.wrapper=document.querySelector(h.target),f.wrapper.classList.add(t+"-target"),h.targetFirst?f.wrapper.insertBefore(f.toastCapsule,f.wrapper.firstChild):f.wrapper.appendChild(f.toastCapsule);else{if(-1==m.indexOf(h.position))return void console.warn("["+t+`] Incorrect position.
It can be › `+m);e=c||window.innerWidth<=a?"bottomLeft"==h.position||"bottomRight"==h.position||"bottomCenter"==h.position?t+"-wrapper-bottomCenter":"topLeft"==h.position||"topRight"==h.position||"topCenter"==h.position?t+"-wrapper-topCenter":t+"-wrapper-center":t+"-wrapper-"+e,f.wrapper=document.querySelector("."+t+"-wrapper."+e),f.wrapper||(f.wrapper=document.createElement("div"),f.wrapper.classList.add(t+"-wrapper"),f.wrapper.classList.add(e),document.body.appendChild(f.wrapper)),"topLeft"==h.position||"topCenter"==h.position||"topRight"==h.position?f.wrapper.insertBefore(f.toastCapsule,f.wrapper.firstChild):f.wrapper.appendChild(f.toastCapsule)}isNaN(h.zindex)?console.warn("["+t+"] Invalid zIndex."):f.wrapper.style.zIndex=h.zindex}(),function(){h.overlay&&(null!==document.querySelector("."+t+"-overlay.fadeIn")?(f.overlay=document.querySelector("."+t+"-overlay"),f.overlay.setAttribute("data-iziToast-ref",f.overlay.getAttribute("data-iziToast-ref")+","+h.ref),isNaN(h.zindex)||null===h.zindex||(f.overlay.style.zIndex=h.zindex-1)):(f.overlay.classList.add(t+"-overlay"),f.overlay.classList.add("fadeIn"),f.overlay.style.background=h.overlayColor,f.overlay.setAttribute("data-iziToast-ref",h.ref),isNaN(h.zindex)||null===h.zindex||(f.overlay.style.zIndex=h.zindex-1),document.querySelector("body").appendChild(f.overlay)),h.overlayClose?(f.overlay.removeEventListener("click",{}),f.overlay.addEventListener("click",function(){p.hide(h,f.toast,"overlay")})):f.overlay.removeEventListener("click",{}))}(),function(){if(h.animateInside){f.toast.classList.add(t+"-animateInside");var e,n=[200,100,300];"bounceInLeft"!=h.transitionIn&&"bounceInRight"!=h.transitionIn||(n=[400,200,400]),h.title.length>0&&setTimeout(function(){f.strong.classList.add("slideIn")},n[0]),h.message.length>0&&setTimeout(function(){f.p.classList.add("slideIn")},n[1]),(h.icon||h.iconUrl)&&setTimeout(function(){f.icon.classList.add("revealIn")},n[2]),e=150,h.buttons.length>0&&f.buttons&&setTimeout(function(){s(f.buttons.childNodes,function(t){setTimeout(function(){t.classList.add("revealIn")},e),e+=150})},h.inputs.length>0?150:0),h.inputs.length>0&&f.inputs&&(e=150,s(f.inputs.childNodes,function(t){setTimeout(function(){t.classList.add("revealIn")},e),e+=150}))}}(),h.onOpening.apply(null,[h,f.toast]);try{y=new CustomEvent(t+"-opening",{detail:h,bubbles:!0,cancelable:!0}),document.dispatchEvent(y)}catch(e){console.warn(e)}setTimeout(function(){f.toast.classList.remove(t+"-opening"),f.toast.classList.add(t+"-opened");try{var e=new CustomEvent(t+"-opened",{detail:h,bubbles:!0,cancelable:!0});document.dispatchEvent(e)}catch(e){console.warn(e)}h.onOpened.apply(null,[h,f.toast])},1e3),h.drag&&(l?(f.toast.addEventListener("touchstart",function(e){i.startMoving(this,p,h,e)},!1),f.toast.addEventListener("touchend",function(e){i.stopMoving(this,e)},!1)):(f.toast.addEventListener("mousedown",function(e){e.preventDefault(),i.startMoving(this,p,h,e)},!1),f.toast.addEventListener("mouseup",function(e){e.preventDefault(),i.stopMoving(this,e)},!1))),h.closeOnEscape&&document.addEventListener("keyup",function(e){e=e||window.event,27==e.keyCode&&p.hide(h,f.toast,"esc")}),h.closeOnClick&&f.toast.addEventListener("click",function(){p.hide(h,f.toast,"toast")}),p.toast=f.toast},n})