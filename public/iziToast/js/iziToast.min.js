!function(e,t){"function"==typeof define&&define.amd?define([],t(e)):"object"==typeof exports?module.exports=t(e):e.iziToast=t(e)}("undefined"!=typeof global?global:window||this.window||this.global,function(){"use strict";var a,u,t={},e="iziToast",i=(document.querySelector("body"),!!/Mobi/.test(navigator.userAgent)),m=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor),f="undefined"!=typeof InstallTrigger,r="ontouchstart"in document.documentElement,h=["bottomRight","bottomLeft","bottomCenter","topRight","topLeft","topCenter","center"],b={info:{color:"blue",icon:"ico-info"},success:{color:"green",icon:"ico-success"},warning:{color:"orange",icon:"ico-warning"},error:{color:"red",icon:"ico-error"},question:{color:"yellow",icon:"ico-question"}},c=568,l={};t.children={},a={id:null,class:"",title:"",titleColor:"",titleSize:"",titleLineHeight:"",message:"",messageColor:"",messageSize:"",messageLineHeight:"",backgroundColor:"",theme:"light",color:"",icon:"",iconText:"",iconColor:"",iconUrl:null,image:"",imageWidth:50,maxWidth:null,zindex:null,layout:1,balloon:!1,close:!0,closeOnEscape:!1,closeOnClick:!1,displayMode:0,position:"bottomRight",target:"",targetFirst:!0,timeout:5e3,rtl:!1,animateInside:!0,drag:!0,pauseOnHover:!0,resetOnHover:!1,progressBar:!0,progressBarColor:"",progressBarEasing:"linear",overlay:!1,overlayClose:!1,overlayColor:"rgba(0, 0, 0, 0.6)",transitionIn:"fadeInUp",transitionOut:"fadeOut",transitionInMobile:"fadeInUp",transitionOutMobile:"fadeOutDown",buttons:{},inputs:{},onOpening:function(){},onOpened:function(){},onClosing:function(){},onClosed:function(){}},("remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),"function"!=typeof window.CustomEvent)&&(u=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n},u.prototype=window.Event.prototype,window.CustomEvent=u);var n=function(e,t,n){if("[object Object]"===Object.prototype.toString.call(e))for(s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.call(n,e[s],s,e);else if(e)for(var s,o=0,i=e.length;i>o;o++)t.call(n,e[o],o,e)},s=function(e,t){var s={};return n(e,function(t,n){s[n]=e[n]}),n(t,function(e,n){s[n]=t[n]}),s},d=function(e){var n=document.createDocumentFragment(),t=document.createElement("div");for(t.innerHTML=e;t.firstChild;)n.appendChild(t.firstChild);return n},p=function(e){var t=btoa(encodeURIComponent(e));return t.replace(/=/g,"")},g=function(e){return"#"==e.substring(0,1)||"rgb"==e.substring(0,3)||"hsl"==e.substring(0,3)},v=function(e){try{return btoa(atob(e))==e}catch{return!1}},o=function(){return{move:function(t,n,o,i){var a,r=.3,c=180;0!==i&&(t.classList.add(e+"-dragged"),t.style.transform="translateX("+i+"px)",i>0?(a=(c-i)/c,r>a&&n.hide(s(o,{transitionOut:"fadeOutRight",transitionOutMobile:"fadeOutRight"}),t,"drag")):(a=(c+i)/c,r>a&&n.hide(s(o,{transitionOut:"fadeOutLeft",transitionOutMobile:"fadeOutLeft"}),t,"drag")),t.style.opacity=a,r>a&&((m||f)&&(t.style.left=i+"px"),t.parentNode.style.opacity=r,this.stopMoving(t,null)))},startMoving:function(e,t,n,s){s=s||window.event;var c=r?s.touches[0].clientX:s.clientX,i=e.style.transform.replace("px)",""),i=i.replace("translateX(",""),a=c-i;n.transitionIn&&e.classList.remove(n.transitionIn),n.transitionInMobile&&e.classList.remove(n.transitionInMobile),e.style.transition="",r?document.ontouchmove=function(s){s.preventDefault(),s=s||window.event;var i=s.touches[0].clientX,r=i-a;o.move(e,t,n,r)}:document.onmousemove=function(s){s.preventDefault(),s=s||window.event;var i=s.clientX,r=i-a;o.move(e,t,n,r)}},stopMoving:function(t){r?document.ontouchmove=function(){}:document.onmousemove=function(){},t.style.opacity="",t.style.transform="",t.classList.contains(e+"-dragged")&&(t.classList.remove(e+"-dragged"),t.style.transition="transform 0.4s ease, opacity 0.4s ease",setTimeout(function(){t.style.transition=""},400))}}}();return t.setSetting=function(e,n,s){t.children[e][n]=s},t.getSetting=function(e,n){return t.children[e][n]},t.destroy=function(){n(document.querySelectorAll("."+e+"-overlay"),function(e){e.remove()}),n(document.querySelectorAll("."+e+"-wrapper"),function(e){e.remove()}),n(document.querySelectorAll("."+e),function(e){e.remove()}),this.children={},document.removeEventListener(e+"-opened",{},!1),document.removeEventListener(e+"-opening",{},!1),document.removeEventListener(e+"-closing",{},!1),document.removeEventListener(e+"-closed",{},!1),document.removeEventListener("keyup",{},!1),l={}},t.settings=function(e){t.destroy(),l=e,a=s(a,e||{})},n(b,function(e,n){t[n]=function(t){var n=s(l,t||{}),n=s(e,n||{});this.show(n)}}),t.progress=function(t,n,o){var r=this,c=n.getAttribute("data-iziToast-ref"),i=s(this.children[c],t||{}),a=n.querySelector("."+e+"-progressbar div");return{start:function(){"undefined"==typeof i.time.REMAINING&&(n.classList.remove(e+"-reseted"),null!==a&&(a.style.transition="width "+i.timeout+"ms "+i.progressBarEasing,a.style.width="0%"),i.time.START=(new Date).getTime(),i.time.END=i.time.START+i.timeout,i.time.TIMER=setTimeout(function(){clearTimeout(i.time.TIMER),n.classList.contains(e+"-closing")||(r.hide(i,n,"timeout"),"function"==typeof o&&o.apply(r))},i.timeout),r.setSetting(c,"time",i.time))},pause:function(){if("undefined"!=typeof i.time.START&&!n.classList.contains(e+"-paused")&&!n.classList.contains(e+"-reseted")){if(n.classList.add(e+"-paused"),i.time.REMAINING=i.time.END-(new Date).getTime(),clearTimeout(i.time.TIMER),r.setSetting(c,"time",i.time),null!==a){var t=window.getComputedStyle(a),s=t.getPropertyValue("width");a.style.transition="none",a.style.width=s}"function"==typeof o&&setTimeout(function(){o.apply(r)},10)}},resume:function(){"undefined"!=typeof i.time.REMAINING?(n.classList.remove(e+"-paused"),null!==a&&(a.style.transition="width "+i.time.REMAINING+"ms "+i.progressBarEasing,a.style.width="0%"),i.time.END=(new Date).getTime()+i.time.REMAINING,i.time.TIMER=setTimeout(function(){clearTimeout(i.time.TIMER),n.classList.contains(e+"-closing")||(r.hide(i,n,"timeout"),"function"==typeof o&&o.apply(r))},i.time.REMAINING),r.setSetting(c,"time",i.time)):this.start()},reset:function(){clearTimeout(i.time.TIMER),delete i.time.REMAINING,r.setSetting(c,"time",i.time),n.classList.add(e+"-reseted"),n.classList.remove(e+"-paused"),null!==a&&(a.style.transition="none",a.style.width="100%"),"function"==typeof o&&setTimeout(function(){o.apply(r)},10)}}},t.hide=function(t,n,o){"object"!=typeof n&&(n=document.querySelector(n));var r,l,d=this,a=s(this.children[n.getAttribute("data-iziToast-ref")],t||{});a.closedBy=o||null,delete a.time.REMAINING,n.classList.add(e+"-closing"),function(){var t,s,n=document.querySelector("."+e+"-overlay");null!==n&&(t=n.getAttribute("data-iziToast-ref"),t=t.split(","),s=t.indexOf(String(a.ref)),-1!==s&&t.splice(s,1),n.setAttribute("data-iziToast-ref",t.join()),0===t.length&&(n.classList.remove("fadeIn"),n.classList.add("fadeOut"),setTimeout(function(){n.remove()},700)))}(),a.transitionIn&&n.classList.remove(a.transitionIn),a.transitionInMobile&&n.classList.remove(a.transitionInMobile),i||window.innerWidth<=c?a.transitionOutMobile&&n.classList.add(a.transitionOutMobile):a.transitionOut&&n.classList.add(a.transitionOut),r=n.parentNode.offsetHeight,n.parentNode.style.height=r+"px",n.style.pointerEvents="none",(!i||window.innerWidth>c)&&(n.parentNode.style.transitionDelay="0.2s");try{l=new CustomEvent(e+"-closing",{detail:a,bubbles:!0,cancelable:!0}),document.dispatchEvent(l)}catch(e){console.warn(e)}setTimeout(function(){n.parentNode.style.height="0px",n.parentNode.style.overflow="",setTimeout(function(){delete d.children[a.ref],n.parentNode.remove();try{var t=new CustomEvent(e+"-closed",{detail:a,bubbles:!0,cancelable:!0});document.dispatchEvent(t)}catch(e){console.warn(e)}"undefined"!=typeof a.onClosed&&a.onClosed.apply(null,[a,n,o])},1e3)},200),"undefined"!=typeof a.onClosing&&a.onClosing.apply(null,[a,n,o])},t.show=function(u){var f,j,y,b=this,m=s(l,u||{});if(m=s(a,m),m.time={},null===m.id&&(m.id=p(m.title+m.message+m.color)),1===m.displayMode||"once"==m.displayMode)try{if(document.querySelectorAll("."+e+"#"+m.id).length>0)return!1}catch{console.warn("["+e+"] Could not find an element with this selector: #"+m.id+". Try to set an valid id.")}if(2===m.displayMode||"replace"==m.displayMode)try{n(document.querySelectorAll("."+e+"#"+m.id),function(e){b.hide(m,e,"replaced")})}catch{console.warn("["+e+"] Could not find an element with this selector: #"+m.id+". Try to set an valid id.")}m.ref=(new Date).getTime()+Math.floor(1e7*Math.random()+1),t.children[m.ref]=m,f={body:document.querySelector("body"),overlay:document.createElement("div"),toast:document.createElement("div"),toastBody:document.createElement("div"),toastTexts:document.createElement("div"),toastCapsule:document.createElement("div"),cover:document.createElement("div"),buttons:document.createElement("div"),inputs:document.createElement("div"),icon:m.iconUrl?document.createElement("img"):document.createElement("i"),wrapper:null},f.toast.setAttribute("data-iziToast-ref",m.ref),f.toast.appendChild(f.toastBody),f.toastCapsule.appendChild(f.toast),function(){if(f.toast.classList.add(e),f.toast.classList.add(e+"-opening"),f.toastCapsule.classList.add(e+"-capsule"),f.toastBody.classList.add(e+"-body"),f.toastTexts.classList.add(e+"-texts"),i||window.innerWidth<=c?m.transitionInMobile&&f.toast.classList.add(m.transitionInMobile):m.transitionIn&&f.toast.classList.add(m.transitionIn),m.class){var t=m.class.split(" ");n(t,function(e){f.toast.classList.add(e)})}m.id&&(f.toast.id=m.id),m.rtl&&(f.toast.classList.add(e+"-rtl"),f.toast.setAttribute("dir","rtl")),m.layout>1&&f.toast.classList.add(e+"-layout"+m.layout),m.balloon&&f.toast.classList.add(e+"-balloon"),m.maxWidth&&(isNaN(m.maxWidth)?f.toast.style.maxWidth=m.maxWidth:f.toast.style.maxWidth=m.maxWidth+"px"),""===m.theme&&"light"===m.theme||f.toast.classList.add(e+"-theme-"+m.theme),m.color&&(g(m.color)?f.toast.style.background=m.color:f.toast.classList.add(e+"-color-"+m.color)),m.backgroundColor&&(f.toast.style.background=m.backgroundColor,m.balloon&&(f.toast.style.borderColor=m.backgroundColor))}(),function(){m.image&&(f.cover.classList.add(e+"-cover"),f.cover.style.width=m.imageWidth+"px",v(m.image.replace(/ /g,""))?f.cover.style.backgroundImage="url(data:image/png;base64,"+m.image.replace(/ /g,"")+")":f.cover.style.backgroundImage="url("+m.image+")",m.rtl?f.toastBody.style.marginRight=m.imageWidth+10+"px":f.toastBody.style.marginLeft=m.imageWidth+10+"px",f.toast.appendChild(f.cover))}(),function(){m.close?(f.buttonClose=document.createElement("button"),f.buttonClose.type="button",f.buttonClose.classList.add(e+"-close"),f.buttonClose.addEventListener("click",function(e){e.target,b.hide(m,f.toast,"button")}),f.toast.appendChild(f.buttonClose)):m.rtl?f.toast.style.paddingLeft="18px":f.toast.style.paddingRight="18px"}(),function(){m.progressBar&&(f.progressBar=document.createElement("div"),f.progressBarDiv=document.createElement("div"),f.progressBar.classList.add(e+"-progressbar"),f.progressBarDiv.style.background=m.progressBarColor,f.progressBar.appendChild(f.progressBarDiv),f.toast.appendChild(f.progressBar)),m.timeout&&(m.pauseOnHover&&!m.resetOnHover&&(f.toast.addEventListener("mouseenter",function(){b.progress(m,f.toast).pause()}),f.toast.addEventListener("mouseleave",function(){b.progress(m,f.toast).resume()})),m.resetOnHover&&(f.toast.addEventListener("mouseenter",function(){b.progress(m,f.toast).reset()}),f.toast.addEventListener("mouseleave",function(){b.progress(m,f.toast).start()})))}(),function(){m.iconUrl?(f.icon.setAttribute("class",e+"-icon"),f.icon.setAttribute("src",m.iconUrl)):m.icon&&(f.icon.setAttribute("class",e+"-icon "+m.icon),m.iconText&&f.icon.appendChild(document.createTextNode(m.iconText)),m.iconColor&&(f.icon.style.color=m.iconColor)),(m.icon||m.iconUrl)&&(m.rtl?f.toastBody.style.paddingRight="33px":f.toastBody.style.paddingLeft="33px",f.toastBody.appendChild(f.icon))}(),function(){m.title.length>0&&(f.strong=document.createElement("strong"),f.strong.classList.add(e+"-title"),f.strong.appendChild(d(m.title)),f.toastTexts.appendChild(f.strong),m.titleColor&&(f.strong.style.color=m.titleColor),m.titleSize&&(isNaN(m.titleSize)?f.strong.style.fontSize=m.titleSize:f.strong.style.fontSize=m.titleSize+"px"),m.titleLineHeight&&(isNaN(m.titleSize)?f.strong.style.lineHeight=m.titleLineHeight:f.strong.style.lineHeight=m.titleLineHeight+"px")),m.message.length>0&&(f.p=document.createElement("p"),f.p.classList.add(e+"-message"),f.p.appendChild(d(m.message)),f.toastTexts.appendChild(f.p),m.messageColor&&(f.p.style.color=m.messageColor),m.messageSize&&(isNaN(m.titleSize)?f.p.style.fontSize=m.messageSize:f.p.style.fontSize=m.messageSize+"px"),m.messageLineHeight&&(isNaN(m.titleSize)?f.p.style.lineHeight=m.messageLineHeight:f.p.style.lineHeight=m.messageLineHeight+"px")),m.title.length>0&&m.message.length>0&&(m.rtl?f.strong.style.marginLeft="10px":2===m.layout||m.rtl||(f.strong.style.marginRight="10px"))}(),f.toastBody.appendChild(f.toastTexts),!function(){m.inputs.length>0&&(f.inputs.classList.add(e+"-inputs"),n(m.inputs,function(t,n){f.inputs.appendChild(d(t[0])),j=f.inputs.childNodes,j[n].classList.add(e+"-inputs-child"),t[3]&&setTimeout(function(){j[n].focus()},300),j[n].addEventListener(t[1],function(e){var n=t[2];return n(b,f.toast,this,e)})}),f.toastBody.appendChild(f.inputs))}(),function(){m.buttons.length>0&&(f.buttons.classList.add(e+"-buttons"),n(m.buttons,function(t,n){f.buttons.appendChild(d(t[0]));var s=f.buttons.childNodes;s[n].classList.add(e+"-buttons-child"),t[2]&&setTimeout(function(){s[n].focus()},300),s[n].addEventListener("click",function(e){e.preventDefault();var n=t[1];return n(b,f.toast,this,e,j)})})),f.toastBody.appendChild(f.buttons)}(),m.message.length>0&&(m.inputs.length>0||m.buttons.length>0)&&(f.p.style.marginBottom="0"),(m.inputs.length>0||m.buttons.length>0)&&(m.rtl?f.toastTexts.style.marginLeft="10px":f.toastTexts.style.marginRight="10px",m.inputs.length>0&&m.buttons.length>0&&(m.rtl?f.inputs.style.marginLeft="8px":f.inputs.style.marginRight="8px")),function(){f.toastCapsule.style.visibility="hidden",setTimeout(function(){var s=f.toast.offsetHeight,n=f.toast.currentStyle||window.getComputedStyle(f.toast),e=n.marginTop,e=e.split("px"),e=parseInt(e[0]),t=n.marginBottom,t=t.split("px"),t=parseInt(t[0]);f.toastCapsule.style.visibility="",f.toastCapsule.style.height=s+t+e+"px",setTimeout(function(){f.toastCapsule.style.height="auto",m.target&&(f.toastCapsule.style.overflow="visible")},500),m.timeout&&b.progress(m,f.toast).start()},100)}(),function(){var t=m.position;if(m.target)f.wrapper=document.querySelector(m.target),f.wrapper.classList.add(e+"-target"),m.targetFirst?f.wrapper.insertBefore(f.toastCapsule,f.wrapper.firstChild):f.wrapper.appendChild(f.toastCapsule);else{if(-1==h.indexOf(m.position))return void console.warn("["+e+`] Incorrect position.
It can be › `+h);t=i||window.innerWidth<=c?"bottomLeft"==m.position||"bottomRight"==m.position||"bottomCenter"==m.position?e+"-wrapper-bottomCenter":"topLeft"==m.position||"topRight"==m.position||"topCenter"==m.position?e+"-wrapper-topCenter":e+"-wrapper-center":e+"-wrapper-"+t,f.wrapper=document.querySelector("."+e+"-wrapper."+t),f.wrapper||(f.wrapper=document.createElement("div"),f.wrapper.classList.add(e+"-wrapper"),f.wrapper.classList.add(t),document.body.appendChild(f.wrapper)),"topLeft"==m.position||"topCenter"==m.position||"topRight"==m.position?f.wrapper.insertBefore(f.toastCapsule,f.wrapper.firstChild):f.wrapper.appendChild(f.toastCapsule)}isNaN(m.zindex)?console.warn("["+e+"] Invalid zIndex."):f.wrapper.style.zIndex=m.zindex}(),function(){m.overlay&&(null!==document.querySelector("."+e+"-overlay.fadeIn")?(f.overlay=document.querySelector("."+e+"-overlay"),f.overlay.setAttribute("data-iziToast-ref",f.overlay.getAttribute("data-iziToast-ref")+","+m.ref),isNaN(m.zindex)||null===m.zindex||(f.overlay.style.zIndex=m.zindex-1)):(f.overlay.classList.add(e+"-overlay"),f.overlay.classList.add("fadeIn"),f.overlay.style.background=m.overlayColor,f.overlay.setAttribute("data-iziToast-ref",m.ref),isNaN(m.zindex)||null===m.zindex||(f.overlay.style.zIndex=m.zindex-1),document.querySelector("body").appendChild(f.overlay)),m.overlayClose?(f.overlay.removeEventListener("click",{}),f.overlay.addEventListener("click",function(){b.hide(m,f.toast,"overlay")})):f.overlay.removeEventListener("click",{}))}(),function(){if(m.animateInside){f.toast.classList.add(e+"-animateInside");var t,s=[200,100,300];"bounceInLeft"!=m.transitionIn&&"bounceInRight"!=m.transitionIn||(s=[400,200,400]),m.title.length>0&&setTimeout(function(){f.strong.classList.add("slideIn")},s[0]),m.message.length>0&&setTimeout(function(){f.p.classList.add("slideIn")},s[1]),(m.icon||m.iconUrl)&&setTimeout(function(){f.icon.classList.add("revealIn")},s[2]),t=150,m.buttons.length>0&&f.buttons&&setTimeout(function(){n(f.buttons.childNodes,function(e){setTimeout(function(){e.classList.add("revealIn")},t),t+=150})},m.inputs.length>0?150:0),m.inputs.length>0&&f.inputs&&(t=150,n(f.inputs.childNodes,function(e){setTimeout(function(){e.classList.add("revealIn")},t),t+=150}))}}(),m.onOpening.apply(null,[m,f.toast]);try{y=new CustomEvent(e+"-opening",{detail:m,bubbles:!0,cancelable:!0}),document.dispatchEvent(y)}catch(e){console.warn(e)}setTimeout(function(){f.toast.classList.remove(e+"-opening"),f.toast.classList.add(e+"-opened");try{var t=new CustomEvent(e+"-opened",{detail:m,bubbles:!0,cancelable:!0});document.dispatchEvent(t)}catch(e){console.warn(e)}m.onOpened.apply(null,[m,f.toast])},1e3),m.drag&&(r?(f.toast.addEventListener("touchstart",function(e){o.startMoving(this,b,m,e)},!1),f.toast.addEventListener("touchend",function(e){o.stopMoving(this,e)},!1)):(f.toast.addEventListener("mousedown",function(e){e.preventDefault(),o.startMoving(this,b,m,e)},!1),f.toast.addEventListener("mouseup",function(e){e.preventDefault(),o.stopMoving(this,e)},!1))),m.closeOnEscape&&document.addEventListener("keyup",function(e){e=e||window.event,27==e.keyCode&&b.hide(m,f.toast,"esc")}),m.closeOnClick&&f.toast.addEventListener("click",function(){b.hide(m,f.toast,"toast")}),b.toast=f.toast},t})