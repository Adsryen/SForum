ace.define("ace/mode/latex_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(e,t){"use strict";var s=e("../lib/oop"),o=e("./text_highlight_rules").TextHighlightRules,n=function(){this.$rules={start:[{token:"comment",regex:"%.*$"},{token:["keyword","lparen","variable.parameter","rparen","lparen","storage.type","rparen"],regex:"(\\\\(?:documentclass|usepackage|input))(?:(\\[)([^\\]]*)(\\]))?({)([^}]*)(})"},{token:["keyword","lparen","variable.parameter","rparen"],regex:"(\\\\(?:label|v?ref|cite(?:[^{]*)))(?:({)([^}]*)(}))?"},{token:["storage.type","lparen","variable.parameter","rparen"],regex:"(\\\\begin)({)(verbatim)(})",next:"verbatim"},{token:["storage.type","lparen","variable.parameter","rparen"],regex:"(\\\\begin)({)(lstlisting)(})",next:"lstlisting"},{token:["storage.type","lparen","variable.parameter","rparen"],regex:"(\\\\(?:begin|end))({)([\\w*]*)(})"},{token:"storage.type",regex:/\\verb\b\*?/,next:[{token:["keyword.operator","string","keyword.operator"],regex:"(.)(.*?)(\\1|$)|",next:"start"}]},{token:"storage.type",regex:"\\\\[a-zA-Z]+"},{token:"lparen",regex:"[[({]"},{token:"rparen",regex:"[\\])}]"},{token:"constant.character.escape",regex:"\\\\[^a-zA-Z]?"},{token:"string",regex:"\\${1,2}",next:"equation"}],equation:[{token:"comment",regex:"%.*$"},{token:"string",regex:"\\${1,2}",next:"start"},{token:"constant.character.escape",regex:"\\\\(?:[^a-zA-Z]|[a-zA-Z]+)"},{token:"error",regex:"^\\s*$",next:"start"},{defaultToken:"string"}],verbatim:[{token:["storage.type","lparen","variable.parameter","rparen"],regex:"(\\\\end)({)(verbatim)(})",next:"start"},{defaultToken:"text"}],lstlisting:[{token:["storage.type","lparen","variable.parameter","rparen"],regex:"(\\\\end)({)(lstlisting)(})",next:"start"},{defaultToken:"text"}]},this.normalizeRules()};s.inherits(n,o),t.LatexHighlightRules=n}),ace.define("ace/mode/folding/latex",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode","ace/range","ace/token_iterator"],function(e,t){"use strict";var a=e("../../lib/oop"),r=e("./fold_mode").FoldMode,n=e("../../range").Range,s=e("../../token_iterator").TokenIterator,o={"\\subparagraph":1,"\\paragraph":2,"\\subsubsubsection":3,"\\subsubsection":4,"\\subsection":5,"\\section":6,"\\chapter":7,"\\part":8,"\\begin":9,"\\end":10},i=t.FoldMode=function(){};a.inherits(i,r),function(){this.foldingStartMarker=/^\s*\\(begin)|\s*\\(part|chapter|(?:sub)*(?:section|paragraph))\b|{\s*$/,this.foldingStopMarker=/^\s*\\(end)\b|^\s*}/,this.getFoldWidgetRange=function(e,t,n){var o=e.doc.getLine(n),s=this.foldingStartMarker.exec(o);if(s)return s[1]?this.latexBlock(e,n,s[0].length-1):s[2]?this.latexSection(e,n,s[0].length-1):this.openingBracketBlock(e,"{",n,s.index);if(s=this.foldingStopMarker.exec(o),s)return s[1]?this.latexBlock(e,n,s[0].length-1):this.closingBracketBlock(e,"}",n,s.index+s[0].length)},this.latexBlock=function(e,t,o,i){var t,c,l,d,u,h,m,f,p,g={"\\begin":1,"\\end":-1},a=new s(e,t,o),r=a.getCurrentToken();if(!r||r.type!="storage.type"&&r.type!="constant.character.escape")return;for(p=r.value,c=g[p],d=function(){var t=a.stepForward(),e=t.type=="lparen"?a.stepForward().value:"";return c===-1&&(a.stepBackward(),e&&a.stepBackward()),e},l=[d()],u=c===-1?a.getCurrentTokenColumn():e.getLine(t).length,h=t,a.step=c===-1?a.stepBackward:a.stepForward;r=a.step();){if(!r||r.type!="storage.type"&&r.type!="constant.character.escape")continue;if(m=g[r.value],!m)continue;if(f=d(),m===c)l.unshift(f);else if(l.shift()!==f||!l.length)break}if(l.length)return;return c==1&&(a.stepBackward(),a.stepBackward()),i?a.getCurrentTokenRange():(t=a.getCurrentTokenRow(),c===-1?new n(t,e.getLine(t).length,h,u):new n(h,u,t,a.getCurrentTokenColumn()))},this.latexSection=function(e,t,i){var a,c,l,u,d=new s(e,t,i),r=d.getCurrentToken();if(!r||r.type!="storage.type")return;for(u=o[r.value]||0,c=0,a=t;r=d.stepForward();){if(r.type!=="storage.type")continue;if(l=o[r.value]||0,l>=9){if(c||(a=d.getCurrentTokenRow()-1),c+=l==9?1:-1,c<0)break}else if(l>=u)break}for(c||(a=d.getCurrentTokenRow()-1);a>t&&!/\S/.test(e.getLine(a));)a--;return new n(t,e.getLine(t).length,a,e.getLine(a).length)}}.call(i.prototype)}),ace.define("ace/mode/latex",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/latex_highlight_rules","ace/mode/behaviour/cstyle","ace/mode/folding/latex"],function(e,t){"use strict";var s=e("../lib/oop"),o=e("./text").Mode,i=e("./latex_highlight_rules").LatexHighlightRules,a=e("./behaviour/cstyle").CstyleBehaviour,r=e("./folding/latex").FoldMode,n=function(){this.HighlightRules=i,this.foldingRules=new r,this.$behaviour=new a({braces:!0})};s.inherits(n,o),function(){this.type="text",this.lineCommentStart="%",this.$id="ace/mode/latex",this.getMatching=function(e,t,n){t==null&&(t=e.selection.lead),typeof t=="object"&&(n=t.column,t=t.row);var s=e.getTokenAt(t,n);if(!s)return;if(s.value=="\\begin"||s.value=="\\end")return this.foldingRules.latexBlock(e,t,n,!0)}}.call(n.prototype),t.Mode=n}),function(){ace.require(["ace/mode/latex"],function(e){typeof module=="object"&&typeof exports=="object"&&module&&(module.exports=e)})}()