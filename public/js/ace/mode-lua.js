ace.define("ace/mode/lua_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(e,t){"use strict";var o=e("../lib/oop"),i=e("./text_highlight_rules").TextHighlightRules,s=function(){var a="break|do|else|elseif|end|for|function|if|in|local|repeat|return|then|until|while|or|and|not",d="true|false|nil|_G|_VERSION",n="string|xpcall|package|tostring|print|os|unpack|require|getfenv|setmetatable|next|assert|tonumber|io|rawequal|collectgarbage|getmetatable|module|rawset|math|debug|pcall|table|newproxy|type|coroutine|_G|select|gcinfo|pairs|rawget|loadstring|ipairs|_VERSION|dofile|setfenv|load|error|loadfile|sub|upper|len|gfind|rep|find|match|char|dump|gmatch|reverse|byte|format|gsub|lower|preload|loadlib|loaded|loaders|cpath|config|path|seeall|exit|setlocale|date|getenv|difftime|remove|time|clock|tmpname|rename|execute|lines|write|close|flush|open|output|type|read|stderr|stdin|input|stdout|popen|tmpfile|log|max|acos|huge|ldexp|pi|cos|tanh|pow|deg|tan|cosh|sinh|random|randomseed|frexp|ceil|floor|rad|abs|sqrt|modf|asin|min|mod|fmod|log10|atan2|exp|sin|atan|getupvalue|debug|sethook|getmetatable|gethook|setmetatable|setlocal|traceback|setfenv|getinfo|setupvalue|getlocal|getregistry|getfenv|setn|insert|getn|foreachi|maxn|foreach|concat|sort|remove|resume|yield|status|wrap|create|running|__add|__sub|__mod|__unm|__concat|__lt|__index|__call|__gc|__metatable|__mul|__div|__pow|__len|__eq|__le|__newindex|__tostring|__mode|__tonumber",s="string|package|os|io|math|debug|table|coroutine",o="setn|foreach|foreachi|gcinfo|log10|maxn",i=this.createKeywordMapper({keyword:a,"support.function":n,"keyword.deprecated":o,"constant.library":s,"constant.language":d,"variable.language":"self"},"identifier"),t="(?:(?:[1-9]\\d*)|(?:0))",r="(?:0[xX][\\dA-Fa-f]+)",c="(?:"+t+"|"+r+")",l="(?:\\.\\d+)",e="(?:\\d+)",u="(?:(?:"+e+"?"+l+")|(?:"+e+"\\.))",h="(?:"+u+")";this.$rules={start:[{stateName:"bracketedComment",onMatch:function(e,t,n){return n.unshift(this.next,e.length-2,t),"comment"},regex:/--\[=*\[/,next:[{onMatch:function(e,t,n){return e.length==n[1]?(n.shift(),n.shift(),this.next=n.shift()):this.next="","comment"},regex:/\]=*\]/,next:"start"},{defaultToken:"comment"}]},{token:"comment",regex:"\\-\\-.*$"},{stateName:"bracketedString",onMatch:function(e,t,n){return n.unshift(this.next,e.length,t),"string.start"},regex:/\[=*\[/,next:[{onMatch:function(e,t,n){return e.length==n[1]?(n.shift(),n.shift(),this.next=n.shift()):this.next="","string.end"},regex:/\]=*\]/,next:"start"},{defaultToken:"string"}]},{token:"string",regex:'"(?:[^\\\\]|\\\\.)*?"'},{token:"string",regex:"'(?:[^\\\\]|\\\\.)*?'"},{token:"constant.numeric",regex:h},{token:"constant.numeric",regex:c+"\\b"},{token:i,regex:"[a-zA-Z_$][a-zA-Z0-9_$]*\\b"},{token:"keyword.operator",regex:"\\+|\\-|\\*|\\/|%|\\#|\\^|~|<|>|<=|=>|==|~=|=|\\:|\\.\\.\\.|\\.\\."},{token:"paren.lparen",regex:"[\\[\\(\\{]"},{token:"paren.rparen",regex:"[\\]\\)\\}]"},{token:"text",regex:"\\s+|\\w+"}]},this.normalizeRules()};o.inherits(s,i),t.LuaHighlightRules=s}),ace.define("ace/mode/folding/lua",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode","ace/range","ace/token_iterator"],function(e,t){"use strict";var i=e("../../lib/oop"),a=e("./fold_mode").FoldMode,s=e("../../range").Range,r=e("../../token_iterator").TokenIterator,o=t.FoldMode=function(){};i.inherits(o,a),function(){this.foldingStartMarker=/\b(function|then|do|repeat)\b|{\s*$|(\[=*\[)/,this.foldingStopMarker=/\bend\b|^\s*}|\]=*\]/,this.getFoldWidget=function(e,t,n){var s,o,i=e.getLine(n),r=this.foldingStartMarker.test(i),a=this.foldingStopMarker.test(i);if(r&&!a){if(s=i.match(this.foldingStartMarker),s[1]=="then"&&/\belseif\b/.test(i))return;if(s[1]){if(e.getTokenAt(n,s.index+1).type==="keyword")return"start"}else if(s[2]){if(o=e.bgTokenizer.getState(n)||"",o[0]=="bracketedComment"||o[0]=="bracketedString")return"start"}else return"start"}if(t!="markbeginend"||!a||r&&a)return"";if(s=i.match(this.foldingStopMarker),s[0]==="end"){if(e.getTokenAt(n,s.index+1).type==="keyword")return"end"}else if(s[0][0]==="]"){if(o=e.bgTokenizer.getState(n-1)||"",o[0]=="bracketedComment"||o[0]=="bracketedString")return"end"}else return"end"},this.getFoldWidgetRange=function(e,t,n){var o=e.doc.getLine(n),s=this.foldingStartMarker.exec(o);if(s)return s[1]?this.luaBlock(e,n,s.index+1):s[2]?e.getCommentFoldRange(n,s.index+1):this.openingBracketBlock(e,"{",n,s.index);if(s=this.foldingStopMarker.exec(o),s)return s[0]==="end"&&e.getTokenAt(n,s.index+1).type==="keyword"?this.luaBlock(e,n,s.index+1):s[0][0]==="]"?e.getCommentFoldRange(n,s.index+1):this.closingBracketBlock(e,"}",n,s.index+s[0].length)},this.luaBlock=function(e,t,n,o){var t,c,l,d,u,h,m,a=new r(e,t,n),f={function:1,do:1,then:1,elseif:-1,end:-1,repeat:1,until:-1},i=a.getCurrentToken();if(!i||i.type!="keyword")return;if(u=i.value,l=[u],c=f[u],!c)return;for(h=c===-1?a.getCurrentTokenColumn():e.getLine(t).length,m=t,a.step=c===-1?a.stepBackward:a.stepForward;i=a.step();){if(i.type!=="keyword")continue;if(d=c*f[i.value],d>0)l.unshift(i.value);else if(d<=0){if(l.shift(),!l.length&&i.value!="elseif")break;d===0&&l.unshift(i.value)}}return i?o?a.getCurrentTokenRange():(t=a.getCurrentTokenRow(),c===-1?new s(t,e.getLine(t).length,m,h):new s(m,h,t,a.getCurrentTokenColumn())):null}}.call(o.prototype)}),ace.define("ace/mode/lua",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/lua_highlight_rules","ace/mode/folding/lua","ace/range","ace/worker/worker_client"],function(e,t){"use strict";var i=e("../lib/oop"),a=e("./text").Mode,r=e("./lua_highlight_rules").LuaHighlightRules,c=e("./folding/lua").FoldMode,o=e("../range").Range,l=e("../worker/worker_client").WorkerClient,s=function(){this.HighlightRules=r,this.foldingRules=new c,this.$behaviour=this.$defaultBehaviour};i.inherits(s,a),function(){this.lineCommentStart="--",this.blockComment={start:"--[",end:"]--"};var e={function:1,then:1,do:1,else:1,elseif:1,repeat:1,end:-1,until:-1},t=["else","elseif","end","until"];function n(t){for(var n,s=0,o=0;o<t.length;o++)n=t[o],n.type=="keyword"?n.value in e&&(s+=e[n.value]):n.type=="paren.lparen"?s+=n.value.length:n.type=="paren.rparen"&&(s-=n.value.length);return s<0?-1:s>0?1:0}this.getNextLineIndent=function(e,t,s){var o=this.$getIndent(t),i=0,a=this.getTokenizer().getLineTokens(t,e),r=a.tokens;return e=="start"&&(i=n(r)),i>0?o+s:i<0&&o.substr(o.length-s.length)==s&&!this.checkOutdent(e,t,`
`)?o.substr(0,o.length-s.length):o},this.checkOutdent=function(e,n,s){if(s!=`
`&&s!=``&&s!=`
`)return!1;if(n.match(/^\s*[)}\]]$/))return!0;var o=this.getTokenizer().getLineTokens(n.trim(),e).tokens;return!!o&&!!o.length&&o[0].type=="keyword"&&t.indexOf(o[0].value)!=-1},this.getMatching=function(t,n,s){if(n==null){var o,i=t.selection.lead;s=i.column,n=i.row}if(o=t.getTokenAt(n,s),o&&o.value in e)return this.foldingRules.luaBlock(t,n,s,!0)},this.autoOutdent=function(e,t,n){var i,a,r=t.getLine(n),s=r.match(/^\s*/)[0].length;if(!s||!n)return;if(i=this.getMatching(t,n,s+1),!i||i.start.row==n)return;a=this.$getIndent(t.getLine(i.start.row)),a.length!=s&&(t.replace(new o(n,0,n,s),a),t.outdentRows(new o(n+1,0,n+1,0)))},this.createWorker=function(e){var t=new l(["ace"],"ace/mode/lua_worker","Worker");return t.attachToDocument(e.getDocument()),t.on("annotate",function(t){e.setAnnotations(t.data)}),t.on("terminate",function(){e.clearAnnotations()}),t},this.$id="ace/mode/lua",this.snippetFileId="ace/snippets/lua"}.call(s.prototype),t.Mode=s}),function(){ace.require(["ace/mode/lua"],function(e){typeof module=="object"&&typeof exports=="object"&&module&&(module.exports=e)})}()