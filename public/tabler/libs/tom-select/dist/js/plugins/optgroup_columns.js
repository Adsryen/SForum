(function(e,t){typeof exports=="object"&&typeof module!="undefined"?module.exports=t():typeof define=="function"&&define.amd?define(t):(e=typeof globalThis!="undefined"?globalThis:e||self,e.optgroup_columns=t())})(this,function(){"use strict";const e=37,s=39;typeof navigator!="undefined"&&/Mac/.test(navigator.userAgent);const o="[̀-ͯ·ʾʼ]",t={},n={"/":"⁄∕",0:"߀",a:"ⱥɐɑ",aa:"ꜳ",ae:"æǽǣ",ao:"ꜵ",au:"ꜷ",av:"ꜹꜻ",ay:"ꜽ",b:"ƀɓƃ",c:"ꜿƈȼↄ",d:"đɗɖᴅƌꮷԁɦ",e:"ɛǝᴇɇ",f:"ꝼƒ",g:"ǥɠꞡᵹꝿɢ",h:"ħⱨⱶɥ",i:"ɨı",j:"ɉȷ",k:"ƙⱪꝁꝃꝅꞣ",l:"łƚɫⱡꝉꝇꞁɭ",m:"ɱɯϻ",n:"ꞥƞɲꞑᴎлԉ",o:"øǿɔɵꝋꝍᴑ",oe:"œ",oi:"ƣ",oo:"ꝏ",ou:"ȣ",p:"ƥᵽꝑꝓꝕρ",q:"ꝗꝙɋ",r:"ɍɽꝛꞧꞃ",s:"ßȿꞩꞅʂ",t:"ŧƭʈⱦꞇ",th:"þ",tz:"ꜩ",u:"ʉ",v:"ʋꝟʌ",vy:"ꝡ",w:"ⱳ",y:"ƴɏỿ",z:"ƶȥɀⱬꝣ",hv:"ƕ"};for(let e in n){let s=n[e]||"";for(let n=0;n<s.length;n++){let o=s.substring(n,n+1);t[o]=e}}new RegExp(Object.keys(t).join("|")+"|"+o,"gu");const i=(e,t,n)=>{if(n&&!n.contains(e))return;for(;e&&e.matches;){if(e.matches(t))return e;e=e.parentNode}},a=(e,t)=>{if(!e)return-1;t=t||e.nodeName;for(var n=0;e=e.previousElementSibling;)e.matches(t)&&n++;return n};function r(){var t=this,n=t.onKeyDown;t.hook("instead","onKeyDown",o=>{var r,c,l,d;if(!t.isOpen||o.keyCode!==e&&o.keyCode!==s)return n.call(t,o);if(t.ignoreHover=!0,r=i(t.activeOption,"[data-group]"),d=a(t.activeOption,"[data-selectable]"),!r)return;if(o.keyCode===e?r=r.previousSibling:r=r.nextSibling,!r)return;l=r.querySelectorAll("[data-selectable]"),c=l[Math.min(l.length-1,d)],c&&t.setActiveOption(c)})}return r})