!function(){function n(e){return e&&e.__esModule?e.default:e}function t(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n,s=0;s<t.length;s++)n=t[s],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function i(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),e}function a(e){return a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},a(e)}function r(e,t){return r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,t)}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}function c(e,n){return!n||"object"!=((s=n)&&s.constructor===Symbol?"symbol":typeof s)&&"function"!=typeof n?t(e):n;var s}function g(e){return Array.isArray(e)||"[object Object]"=={}.toString.call(e)}function d(e){return!e||"object"!=typeof e&&"function"!=typeof e}var o,h,m,f,l=function e(){if(s=[].slice.call(arguments),a=!1,"boolean"==typeof s[0]&&(a=s.shift()),t=s[0],d(t))throw new Error("extendee must be an object");for(var t,n,s,o,i,a,l,c=s.slice(1),u=c.length,r=0;r<u;r++){i=c[r];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o=i[n],a&&g(o)?(l=Array.isArray(o)?[]:{},t[n]=e(!0,Object.prototype.hasOwnProperty.call(t,n)&&!d(t[n])?t[n]:l,o)):t[n]=o)}return t},u=function(){"use strict";function e(){s(this,e)}return i(e,[{key:"on",value:function(e,t){return this._callbacks=this._callbacks||{},this._callbacks[e]||(this._callbacks[e]=[]),this._callbacks[e].push(t),this}},{key:"emit",value:function(e){for(var s=arguments.length,o=new Array(s>1?s-1:0),t=1;t<s;t++)o[t-1]=arguments[t];this._callbacks=this._callbacks||{};var n,l,d,a=this._callbacks[e],i=!0,r=!1,c=void 0;if(a)try{for(n=a[Symbol.iterator]();!(i=(l=n.next()).done);i=!0)d=l.value,d.apply(this,o)}catch(e){r=!0,c=e}finally{try{i||null==n.return||n.return()}finally{if(r)throw c}}return this.element&&this.element.dispatchEvent(this.makeEvent("dropzone:"+e,{args:o})),this}},{key:"makeEvent",value:function(e,t){var s,n={bubbles:!0,cancelable:!0,detail:t};return"function"==typeof window.CustomEvent?new CustomEvent(e,n):(s=document.createEvent("CustomEvent"),s.initCustomEvent(e,n.bubbles,n.cancelable,n.detail),s)}},{key:"off",value:function(e,t){if(!this._callbacks||0===arguments.length)return this._callbacks={},this;var n,o,s=this._callbacks[e];if(!s)return this;if(1===arguments.length)return delete this._callbacks[e],this;for(n=0;n<s.length;n++)if(o=s[n],o===t){s.splice(n,1);break}return this}}]),e}(),v={url:null,method:"post",withCredentials:!1,timeout:null,parallelUploads:2,uploadMultiple:!1,chunking:!1,forceChunking:!1,chunkSize:2097152,parallelChunkUploads:!1,retryChunks:!1,retryChunksLimit:3,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:"crop",resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:.8,resizeMethod:"contain",filesizeBase:1e3,maxFiles:null,headers:null,defaultHeaders:!0,clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,disablePreviews:!1,hiddenInputContainer:"body",capture:null,renameFilename:null,renameFile:null,forceFallback:!1,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictUploadCanceled:"Upload canceled.",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",dictFileSizeUnits:{tb:"TB",gb:"GB",mb:"MB",kb:"KB",b:"b"},init:function(){},params:function(e,t,n){if(n)return{dzuuid:n.file.upload.uuid,dzchunkindex:n.index,dztotalfilesize:n.file.size,dzchunksize:this.options.chunkSize,dztotalchunkcount:n.file.upload.totalChunkCount,dzchunkbyteoffset:n.index*this.options.chunkSize}},accept:function(e,t){return t()},chunksUploaded:function(e,t){t()},binaryBody:!1,fallback:function(){this.element.className="".concat(this.element.className," dz-browser-not-supported");var t,n,s,o,c,i=!0,a=!1,r=void 0;try{for(s=this.element.getElementsByTagName("div")[Symbol.iterator]();!(i=(c=s.next()).done);i=!0)if(o=c.value,/(^| )dz-message($| )/.test(o.className)){n=o,o.className="dz-message";break}}catch(e){a=!0,r=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw r}}return n||(n=e.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(n)),t=n.getElementsByTagName("span")[0],t&&(null!=t.textContent?t.textContent=this.options.dictFallbackMessage:null!=t.innerText&&(t.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize:function(e,t,n,s){var a,o={srcX:0,srcY:0,srcWidth:e.width,srcHeight:e.height},i=e.width/e.height;if(t==null&&n==null?(t=o.srcWidth,n=o.srcHeight):t==null?t=n*i:n==null&&(n=t/i),a=(t=Math.min(t,o.srcWidth))/(n=Math.min(n,o.srcHeight)),o.srcWidth>t||o.srcHeight>n)if("crop"===s)i>a?(o.srcHeight=e.height,o.srcWidth=o.srcHeight*a):(o.srcWidth=e.width,o.srcHeight=o.srcWidth/a);else{if("contain"!==s)throw new Error("Unknown resizeMethod '".concat(s,"'"));i>a?n=t/i:t=n*i}return o.srcX=(e.width-o.srcWidth)/2,o.srcY=(e.height-o.srcHeight)/2,o.trgWidth=t,o.trgHeight=n,o},transformFile:function(e,t){return(this.options.resizeWidth||this.options.resizeHeight)&&e.type.match(/image.*/)?this.resizeImage(e,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,t):t(e)},previewTemplate:n('<div class="dz-file-preview dz-preview"> <div class="dz-image"><img data-dz-thumbnail=""></div> <div class="dz-details"> <div class="dz-size"><span data-dz-size=""></span></div> <div class="dz-filename"><span data-dz-name=""></span></div> </div> <div class="dz-progress"> <span class="dz-upload" data-dz-uploadprogress=""></span> </div> <div class="dz-error-message"><span data-dz-errormessage=""></span></div> <div class="dz-success-mark"> <svg width="54" height="54" fill="#fff"><path d="m10.207 29.793 4.086-4.086a1 1 0 0 1 1.414 0l5.586 5.586a1 1 0 0 0 1.414 0l15.586-15.586a1 1 0 0 1 1.414 0l4.086 4.086a1 1 0 0 1 0 1.414L22.707 42.293a1 1 0 0 1-1.414 0L10.207 31.207a1 1 0 0 1 0-1.414Z"/></svg> </div> <div class="dz-error-mark"> <svg width="54" height="54" fill="#fff"><path d="m26.293 20.293-7.086-7.086a1 1 0 0 0-1.414 0l-4.586 4.586a1 1 0 0 0 0 1.414l7.086 7.086a1 1 0 0 1 0 1.414l-7.086 7.086a1 1 0 0 0 0 1.414l4.586 4.586a1 1 0 0 0 1.414 0l7.086-7.086a1 1 0 0 1 1.414 0l7.086 7.086a1 1 0 0 0 1.414 0l4.586-4.586a1 1 0 0 0 0-1.414l-7.086-7.086a1 1 0 0 1 0-1.414l7.086-7.086a1 1 0 0 0 0-1.414l-4.586-4.586a1 1 0 0 0-1.414 0l-7.086 7.086a1 1 0 0 1-1.414 0Z"/></svg> </div> </div>'),drop:function(){return this.element.classList.remove("dz-drag-hover")},dragstart:function(){},dragend:function(){return this.element.classList.remove("dz-drag-hover")},dragenter:function(){return this.element.classList.add("dz-drag-hover")},dragover:function(){return this.element.classList.add("dz-drag-hover")},dragleave:function(){return this.element.classList.remove("dz-drag-hover")},paste:function(){},reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(t){if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer&&!this.options.disablePreviews){n=this,t.previewElement=e.createElement(this.options.previewTemplate.trim()),t.previewTemplate=t.previewElement,this.previewsContainer.appendChild(t.previewElement);var a=!0,b=!1,f=void 0;try{for(i=t.previewElement.querySelectorAll("[data-dz-name]")[Symbol.iterator]();!(a=(m=i.next()).done);a=!0)c=m.value,c.textContent=t.name}catch(e){b=!0,f=e}finally{try{a||null==i.return||i.return()}finally{if(b)throw f}}var l=!0,d=!1,u=void 0;try{for(o=t.previewElement.querySelectorAll("[data-dz-size]")[Symbol.iterator]();!(l=(h=o.next()).done);l=!0)(c=h.value).innerHTML=this.filesize(t.size)}catch(e){d=!0,u=e}finally{try{l||null==o.return||o.return()}finally{if(d)throw u}}this.options.addRemoveLinks&&(t._removeLink=e.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'.concat(this.options.dictRemoveFile,"</a>")),t.previewElement.appendChild(t._removeLink));var n,s,o,i,c,h,m,v,j=function(s){var o,i=n;return s.preventDefault(),s.stopPropagation(),t.status===e.UPLOADING?e.confirm(n.options.dictCancelUploadConfirmation,function(){return i.removeFile(t)}):(o=n,n.options.dictRemoveFileConfirmation?e.confirm(n.options.dictRemoveFileConfirmation,function(){return o.removeFile(t)}):n.removeFile(t))},r=!0,p=!1,g=void 0;try{for(s=t.previewElement.querySelectorAll("[data-dz-remove]")[Symbol.iterator]();!(r=(v=s.next()).done);r=!0)v.value.addEventListener("click",j)}catch(e){p=!0,g=e}finally{try{r||null==s.return||s.return()}finally{if(p)throw g}}}},removedfile:function(e){return null!=e.previewElement&&null!=e.previewElement.parentNode&&e.previewElement.parentNode.removeChild(e.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(e,t){if(e.previewElement){e.previewElement.classList.remove("dz-file-preview");var n,o,r,s=!0,i=!1,a=void 0;try{for(n=e.previewElement.querySelectorAll("[data-dz-thumbnail]")[Symbol.iterator]();!(s=(r=n.next()).done);s=!0)o=r.value,o.alt=e.name,o.src=t}catch(e){i=!0,a=e}finally{try{s||null==n.return||n.return()}finally{if(i)throw a}}return setTimeout(function(){return e.previewElement.classList.add("dz-image-preview")},1)}},error:function(e,t){if(e.previewElement){e.previewElement.classList.add("dz-error"),"string"!=typeof t&&t.error&&(t=t.error);var n,a,s=!0,o=!1,i=void 0;try{for(n=e.previewElement.querySelectorAll("[data-dz-errormessage]")[Symbol.iterator]();!(s=(a=n.next()).done);s=!0)a.value.textContent=t}catch(e){o=!0,i=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw i}}}},errormultiple:function(){},processing:function(e){if(e.previewElement&&(e.previewElement.classList.add("dz-processing"),e._removeLink))return e._removeLink.innerHTML=this.options.dictCancelUpload},processingmultiple:function(){},uploadprogress:function(e,t){var s,o,c,i=!0,a=!1,r=void 0;if(e.previewElement)try{for(s=e.previewElement.querySelectorAll("[data-dz-uploadprogress]")[Symbol.iterator]();!(i=(c=s.next()).done);i=!0)o=c.value,"PROGRESS"===o.nodeName?o.value=t:o.style.width="".concat(t,"%")}catch(e){a=!0,r=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw r}}},totaluploadprogress:function(){},sending:function(){},sendingmultiple:function(){},success:function(e){if(e.previewElement)return e.previewElement.classList.add("dz-success")},successmultiple:function(){},canceled:function(e){return this.emit("error",e,this.options.dictUploadCanceled)},canceledmultiple:function(){},complete:function(e){if(e._removeLink&&(e._removeLink.innerHTML=this.options.dictRemoveFile),e.previewElement)return e.previewElement.classList.add("dz-complete")},completemultiple:function(){},maxfilesexceeded:function(){},maxfilesreached:function(){},queuecomplete:function(){},addedfiles:function(){}},e=function(e){"use strict";function r(e,o){if(s(this,r),(i=c(this,(u=r,a(u)).call(this))).element=e,i.clickableElements=[],i.listeners=[],i.files=[],"string"==typeof i.element&&(i.element=document.querySelector(i.element)),!i.element||null==i.element.nodeType)throw new Error("Invalid dropzone element.");if(i.element.dropzone)throw new Error("Dropzone already attached.");r.instances.push(t(i)),i.element.dropzone=t(i);var i,d,u,h,m=null!=(h=r.optionsForElement(i.element))?h:{};if(i.options=n(l)(!0,{},v,m,o??{}),i.options.previewTemplate=i.options.previewTemplate.replace(/\n*/g,""),i.options.forceFallback||!r.isBrowserSupported())return c(i,i.options.fallback.call(t(i)));if(null==i.options.url&&(i.options.url=i.element.getAttribute("action")),!i.options.url)throw new Error("No URL provided.");if(i.options.acceptedFiles&&i.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");if(i.options.uploadMultiple&&i.options.chunking)throw new Error("You cannot set both: uploadMultiple and chunking.");if(i.options.binaryBody&&i.options.uploadMultiple)throw new Error("You cannot set both: binaryBody and uploadMultiple.");return i.options.acceptedMimeTypes&&(i.options.acceptedFiles=i.options.acceptedMimeTypes,delete i.options.acceptedMimeTypes),null!=i.options.renameFilename&&(i.options.renameFile=function(e){return i.options.renameFilename.call(t(i),e.name,e)}),"string"==typeof i.options.method&&(i.options.method=i.options.method.toUpperCase()),(d=i.getExistingFallback())&&d.parentNode&&d.parentNode.removeChild(d),!1!==i.options.previewsContainer&&(i.options.previewsContainer?i.previewsContainer=r.getElement(i.options.previewsContainer,"previewsContainer"):i.previewsContainer=i.element),i.options.clickable&&(!0===i.options.clickable?i.clickableElements=[i.element]:i.clickableElements=r.getElements(i.options.clickable,"clickable")),i.init(),i}return b(r,e),i(r,[{key:"getAcceptedFiles",value:function(){return this.files.filter(function(e){return e.accepted}).map(function(e){return e})}},{key:"getRejectedFiles",value:function(){return this.files.filter(function(e){return!e.accepted}).map(function(e){return e})}},{key:"getFilesWithStatus",value:function(e){return this.files.filter(function(t){return t.status===e}).map(function(e){return e})}},{key:"getQueuedFiles",value:function(){return this.getFilesWithStatus(r.QUEUED)}},{key:"getUploadingFiles",value:function(){return this.getFilesWithStatus(r.UPLOADING)}},{key:"getAddedFiles",value:function(){return this.getFilesWithStatus(r.ADDED)}},{key:"getActiveFiles",value:function(){return this.files.filter(function(e){return e.status===r.UPLOADING||e.status===r.QUEUED}).map(function(e){return e})}},{key:"init",value:function(){var e,t,s,o,a,u,v=this,y=this,j=this,n=this,b=this,g=this,p=this,f=this,h=this,m=this,l=this;("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(r.createElement('<div class="dz-default dz-message"><button class="dz-button" type="button">'.concat(this.options.dictDefaultMessage,"</button></div>"))),this.clickableElements.length)&&(e=this,a=function(){var t=e;e.hiddenFileInput&&e.hiddenFileInput.parentNode.removeChild(e.hiddenFileInput),e.hiddenFileInput=document.createElement("input"),e.hiddenFileInput.setAttribute("type","file"),(null===e.options.maxFiles||e.options.maxFiles>1)&&e.hiddenFileInput.setAttribute("multiple","multiple"),e.hiddenFileInput.className="dz-hidden-input",null!==e.options.acceptedFiles&&e.hiddenFileInput.setAttribute("accept",e.options.acceptedFiles),null!==e.options.capture&&e.hiddenFileInput.setAttribute("capture",e.options.capture),e.hiddenFileInput.setAttribute("tabindex","-1"),e.hiddenFileInput.style.visibility="hidden",e.hiddenFileInput.style.position="absolute",e.hiddenFileInput.style.top="0",e.hiddenFileInput.style.left="0",e.hiddenFileInput.style.height="0",e.hiddenFileInput.style.width="0",r.getElement(e.options.hiddenInputContainer,"hiddenInputContainer").appendChild(e.hiddenFileInput),e.hiddenFileInput.addEventListener("change",function(){var e,r,c,n=t.hiddenFileInput.files,s=!0,o=!1,i=void 0;if(n.length)try{for(e=n[Symbol.iterator]();!(s=(r=e.next()).done);s=!0)c=r.value,t.addFile(c)}catch(e){o=!0,i=e}finally{try{s||null==e.return||e.return()}finally{if(o)throw i}}t.emit("addedfiles",n),a()})},a()),this.URL=null!==window.URL?window.URL:window.webkitURL;var i=!0,d=!1,c=void 0;try{for(s=this.events[Symbol.iterator]();!(i=(u=s.next()).done);i=!0)o=u.value,this.on(o,this.options[o])}catch(e){d=!0,c=e}finally{try{i||null==s.return||s.return()}finally{if(d)throw c}}return this.on("uploadprogress",function(){return v.updateTotalUploadProgress()}),this.on("removedfile",function(){return y.updateTotalUploadProgress()}),this.on("canceled",function(e){return j.emit("complete",e)}),this.on("complete",function(){var t=n;if(0===n.getAddedFiles().length&&0===n.getUploadingFiles().length&&0===n.getQueuedFiles().length)return setTimeout(function(){return t.emit("queuecomplete")},0)}),t=function(e){if(function(e){if(e.dataTransfer.types)for(var t=0;t<e.dataTransfer.types.length;t++)if("Files"===e.dataTransfer.types[t])return!0;return!1}(e))return e.stopPropagation(),e.preventDefault?e.preventDefault():e.returnValue=!1},this.listeners=[{element:this.element,events:{dragstart:function(e){return b.emit("dragstart",e)},dragenter:function(e){return t(e),g.emit("dragenter",e)},dragover:function(e){var n;try{n=e.dataTransfer.effectAllowed}catch{}return e.dataTransfer.dropEffect="move"===n||"linkMove"===n?"move":"copy",t(e),p.emit("dragover",e)},dragleave:function(e){return f.emit("dragleave",e)},drop:function(e){return t(e),h.drop(e)},dragend:function(e){return m.emit("dragend",e)}}}],this.clickableElements.forEach(function(e){var t=l;return l.listeners.push({element:e,events:{click:function(n){return(e!==t.element||n.target===t.element||r.elementInside(n.target,t.element.querySelector(".dz-message")))&&t.hiddenFileInput.click(),!0}}})}),this.enable(),this.options.init.call(this)}},{key:"destroy",value:function(){return this.disable(),this.removeAllFiles(!0),(null!=this.hiddenFileInput?this.hiddenFileInput.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,r.instances.splice(r.instances.indexOf(this),1)}},{key:"updateTotalUploadProgress",value:function(){if(e=0,t=0,this.getActiveFiles().length){var e,t,n,s,i,c,o=!0,a=!1,r=void 0;try{for(n=this.getActiveFiles()[Symbol.iterator]();!(o=(c=n.next()).done);o=!0)i=c.value,e+=i.upload.bytesSent,t+=i.upload.total}catch(e){a=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(a)throw r}}s=100*e/t}else s=100;return this.emit("totaluploadprogress",s,t,e)}},{key:"_getParamName",value:function(e){return"function"==typeof this.options.paramName?this.options.paramName(e):"".concat(this.options.paramName).concat(this.options.uploadMultiple?"[".concat(e,"]"):"")}},{key:"_renameFile",value:function(e){return"function"!=typeof this.options.renameFile?e.name:this.options.renameFile(e)}},{key:"getFallbackForm",value:function(){if(s=this.getExistingFallback())return s;var e,n,s,t='<div class="dz-fallback">';return this.options.dictFallbackText&&(t+="<p>".concat(this.options.dictFallbackText,"</p>")),t+='<input type="file" name="'.concat(this._getParamName(0),'" ').concat(this.options.uploadMultiple?'multiple="multiple"':void 0,' /><input type="submit" value="Upload!"></div>'),n=r.createElement(t),"FORM"!==this.element.tagName?(e=r.createElement('<form action="'.concat(this.options.url,'" enctype="multipart/form-data" method="').concat(this.options.method,'"></form>'))).appendChild(n):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),e??n}},{key:"getExistingFallback",value:function(){var e,o,i,a,r=function(e){var t,s,a,n=!0,o=!1,i=void 0;try{for(t=e[Symbol.iterator]();!(n=(a=t.next()).done);n=!0)if(s=a.value,/(^| )fallback($| )/.test(s.className))return s}catch(e){o=!0,i=e}finally{try{n||null==t.return||t.return()}finally{if(o)throw i}}},t=!0,n=!1,s=void 0;try{for(e=["div","form"][Symbol.iterator]();!(t=(o=e.next()).done);t=!0)if(a=o.value,i=r(this.element.getElementsByTagName(a)))return i}catch(e){n=!0,s=e}finally{try{t||null==e.return||e.return()}finally{if(n)throw s}}}},{key:"setupEventListeners",value:function(){return this.listeners.map(function(e){return function(){var n,s,t=[];for(n in e.events)s=e.events[n],t.push(e.element.addEventListener(n,s,!1));return t}()})}},{key:"removeEventListeners",value:function(){return this.listeners.map(function(e){return function(){var n,s,t=[];for(n in e.events)s=e.events[n],t.push(e.element.removeEventListener(n,s,!1));return t}()})}},{key:"disable",value:function(){var e=this;return this.clickableElements.forEach(function(e){return e.classList.remove("dz-clickable")}),this.removeEventListeners(),this.disabled=!0,this.files.map(function(t){return e.cancelUpload(t)})}},{key:"enable",value:function(){return delete this.disabled,this.clickableElements.forEach(function(e){return e.classList.add("dz-clickable")}),this.setupEventListeners()}},{key:"filesize",value:function(e){var t,s,i,n=0,o="b";if(e>0){for(s=["tb","gb","mb","kb","b"],t=0;t<s.length;t++)if(i=s[t],e>=Math.pow(this.options.filesizeBase,4-t)/10){n=e/Math.pow(this.options.filesizeBase,4-t),o=i;break}n=Math.round(10*n)/10}return"<strong>".concat(n,"</strong> ").concat(this.options.dictFileSizeUnits[o])}},{key:"_updateMaxFilesReachedClass",value:function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")}},{key:"drop",value:function(e){if(e.dataTransfer){this.emit("drop",e);for(var t,n=[],s=0;s<e.dataTransfer.files.length;s++)n[s]=e.dataTransfer.files[s];n.length&&(t=e.dataTransfer.items,t&&t.length&&null!=t[0].webkitGetAsEntry?this._addFilesFromItems(t):this.handleFiles(n)),this.emit("addedfiles",n)}}},{key:"paste",value:function(e){if(null!=(t=e?.clipboardData,n=function(e){return e.items},t!=null?n(t):void 0)){this.emit("paste",e);var t,n,s=e.clipboardData.items;return s.length?this._addFilesFromItems(s):void 0}}},{key:"handleFiles",value:function(e){var t,i,a,n=!0,s=!1,o=void 0;try{for(t=e[Symbol.iterator]();!(n=(i=t.next()).done);n=!0)a=i.value,this.addFile(a)}catch(e){s=!0,o=e}finally{try{n||null==t.return||t.return()}finally{if(s)throw o}}}},{key:"_addFilesFromItems",value:function(e){var t=this;return function(){var n,o,i,l,s=[],a=!0,r=!1,c=void 0;try{for(i=e[Symbol.iterator]();!(a=(l=i.next()).done);a=!0)n=l.value,null!=n.webkitGetAsEntry&&(o=n.webkitGetAsEntry())?o.isFile?s.push(t.addFile(n.getAsFile())):o.isDirectory?s.push(t._addFilesFromDirectory(o,o.name)):s.push(void 0):null!=n.getAsFile&&(null==n.kind||"file"===n.kind)?s.push(t.addFile(n.getAsFile())):s.push(void 0)}catch(e){r=!0,c=e}finally{try{a||null==i.return||i.return()}finally{if(r)throw c}}return s}()}},{key:"_addFilesFromDirectory",value:function(e,t){var s=this,o=e.createReader(),i=function(e){return t=console,n="log",s=function(t){return t.log(e)},t!=null&&"function"==typeof t[n]?s(t,n):void 0;var t,n,s},n=function(){var e=s;return o.readEntries(function(s){if(s.length>0){var o,i,r,d,a=!0,c=!1,l=void 0;try{for(i=s[Symbol.iterator]();!(a=(d=i.next()).done);a=!0)o=d.value,r=e,o.isFile?o.file(function(e){if(!r.options.ignoreHiddenFiles||"."!==e.name.substring(0,1))return e.fullPath="".concat(t,"/").concat(e.name),r.addFile(e)}):o.isDirectory&&e._addFilesFromDirectory(o,"".concat(t,"/").concat(o.name))}catch(e){c=!0,l=e}finally{try{a||null==i.return||i.return()}finally{if(c)throw l}}n()}return null},i)};return n()}},{key:"accept",value:function(e,t){this.options.maxFilesize&&e.size>1048576*this.options.maxFilesize?t(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(e.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):r.isValidFile(e,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(t(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",e)):this.options.accept.call(this,e,t):t(this.options.dictInvalidFileType)}},{key:"addFile",value:function(e){var t=this;e.upload={uuid:r.uuidv4(),progress:0,total:e.size,bytesSent:0,filename:this._renameFile(e)},this.files.push(e),e.status=r.ADDED,this.emit("addedfile",e),this._enqueueThumbnail(e),this.accept(e,function(n){n?(e.accepted=!1,t._errorProcessing([e],n)):(e.accepted=!0,t.options.autoQueue&&t.enqueueFile(e)),t._updateMaxFilesReachedClass()})}},{key:"enqueueFiles",value:function(e){var t,i,a,n=!0,s=!1,o=void 0;try{for(t=e[Symbol.iterator]();!(n=(i=t.next()).done);n=!0)a=i.value,this.enqueueFile(a)}catch(e){s=!0,o=e}finally{try{n||null==t.return||t.return()}finally{if(s)throw o}}return null}},{key:"enqueueFile",value:function(e){if(e.status!==r.ADDED||!0!==e.accepted)throw new Error("This file can't be queued because it has already been processed or was rejected.");var t=this;if(e.status=r.QUEUED,this.options.autoProcessQueue)return setTimeout(function(){return t.processQueue()},0)}},{key:"_enqueueThumbnail",value:function(e){if(this.options.createImageThumbnails&&e.type.match(/image.*/)&&e.size<=1048576*this.options.maxThumbnailFilesize){var t=this;return this._thumbnailQueue.push(e),setTimeout(function(){return t._processThumbnailQueue()},0)}}},{key:"_processThumbnailQueue",value:function(){var t,e=this;if(!this._processingThumbnail&&0!==this._thumbnailQueue.length)return this._processingThumbnail=!0,t=this._thumbnailQueue.shift(),this.createThumbnail(t,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,!0,function(n){return e.emit("thumbnail",t,n),e._processingThumbnail=!1,e._processThumbnailQueue()})}},{key:"removeFile",value:function(e){if(e.status===r.UPLOADING&&this.cancelUpload(e),this.files=h(this.files,e),this.emit("removedfile",e),0===this.files.length)return this.emit("reset")}},{key:"removeAllFiles",value:function(e){e==null&&(e=!1);var t,s,a,n=!0,o=!1,i=void 0;try{for(t=this.files.slice()[Symbol.iterator]();!(n=(a=t.next()).done);n=!0)s=a.value,(s.status!==r.UPLOADING||e)&&this.removeFile(s)}catch(e){o=!0,i=e}finally{try{n||null==t.return||t.return()}finally{if(o)throw i}}return null}},{key:"resizeImage",value:function(e,t,n,s,i){var a=this;return this.createThumbnail(e,t,n,s,!0,function(t,n){if(n==null)return i(e);var c,s=a.options.resizeMimeType;return s==null&&(s=e.type),c=n.toDataURL(s,a.options.resizeQuality),"image/jpeg"!==s&&"image/jpg"!==s||(c=o.restore(e.dataURL,c)),i(r.dataURItoBlob(c))})}},{key:"createThumbnail",value:function(e,t,n,s,o,i){var r=this,a=new FileReader;a.onload=function(){e.dataURL=a.result,"image/svg+xml"!==e.type?r.createThumbnailFromUrl(e,t,n,s,o,i):i!=null&&i(a.result)},a.readAsDataURL(e)}},{key:"displayExistingFile",value:function(e,t,n,s,o){var i,a=void 0===o||o;this.emit("addedfile",e),this.emit("complete",e),a?(i=this,e.dataURL=t,this.createThumbnailFromUrl(e,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,this.options.fixOrientation,function(t){i.emit("thumbnail",e,t),n&&n()},s)):(this.emit("thumbnail",e,t),n&&n())}},{key:"createThumbnailFromUrl",value:function(e,t,n,s,o,i,a){var c=this,r=document.createElement("img");return a&&(r.crossOrigin=a),o="from-image"!=getComputedStyle(document.body).imageOrientation&&o,r.onload=function(){var a=c,l=function(e){return e(1)};return"undefined"!=typeof EXIF&&null!==EXIF&&o&&(l=function(e){return EXIF.getData(r,function(){return e(EXIF.getTag(this,"Orientation"))})}),l(function(o){e.width=r.width,e.height=r.height;var u,c=a.options.resize.call(a,e,t,n,s),d=document.createElement("canvas"),l=d.getContext("2d");switch(d.width=c.trgWidth,d.height=c.trgHeight,o>4&&(d.width=c.trgHeight,d.height=c.trgWidth),o){case 2:l.translate(d.width,0),l.scale(-1,1);break;case 3:l.translate(d.width,d.height),l.rotate(Math.PI);break;case 4:l.translate(0,d.height),l.scale(1,-1);break;case 5:l.rotate(.5*Math.PI),l.scale(1,-1);break;case 6:l.rotate(.5*Math.PI),l.translate(0,-d.width);break;case 7:l.rotate(.5*Math.PI),l.translate(d.height,-d.width),l.scale(-1,1);break;case 8:l.rotate(-.5*Math.PI),l.translate(-d.height,0)}if(f(l,r,null!=c.srcX?c.srcX:0,null!=c.srcY?c.srcY:0,c.srcWidth,c.srcHeight,null!=c.trgX?c.trgX:0,null!=c.trgY?c.trgY:0,c.trgWidth,c.trgHeight),u=d.toDataURL("image/png"),i!=null)return i(u,d)})},i!=null&&(r.onerror=i),r.src=e.dataURL}},{key:"processQueue",value:function(){var e,t=this.options.parallelUploads,n=this.getUploadingFiles().length,s=n;if(!(n>=t)&&(e=this.getQueuedFiles(),e.length>0)){if(this.options.uploadMultiple)return this.processFiles(e.slice(0,t-n));for(;s<t;){if(!e.length)return;this.processFile(e.shift()),s++}}}},{key:"processFile",value:function(e){return this.processFiles([e])}},{key:"processFiles",value:function(e){var t,n,a,s=!0,o=!1,i=void 0;try{for(t=e[Symbol.iterator]();!(s=(a=t.next()).done);s=!0)n=a.value,n.processing=!0,n.status=r.UPLOADING,this.emit("processing",n)}catch(e){o=!0,i=e}finally{try{s||null==t.return||t.return()}finally{if(o)throw i}}return this.options.uploadMultiple&&this.emit("processingmultiple",e),this.uploadFiles(e)}},{key:"_getFilesWithXhr",value:function(e){return this.files.filter(function(t){return t.xhr===e}).map(function(e){return e})}},{key:"cancelUpload",value:function(e){if(e.status===r.UPLOADING){var t,n,a,d,m,s=this._getFilesWithXhr(e.xhr),o=!0,c=!1,l=void 0;try{for(t=s[Symbol.iterator]();!(o=(d=t.next()).done);o=!0)(a=d.value).status=r.CANCELED}catch(e){c=!0,l=e}finally{try{o||null==t.return||t.return()}finally{if(c)throw l}}void 0!==e.xhr&&e.xhr.abort();var i=!0,u=!1,h=void 0;try{for(n=s[Symbol.iterator]();!(i=(m=n.next()).done);i=!0)a=m.value,this.emit("canceled",a)}catch(e){u=!0,h=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw h}}this.options.uploadMultiple&&this.emit("canceledmultiple",s)}else e.status!==r.ADDED&&e.status!==r.QUEUED||(e.status=r.CANCELED,this.emit("canceled",e),this.options.uploadMultiple&&this.emit("canceledmultiple",[e]));if(this.options.autoProcessQueue)return this.processQueue()}},{key:"resolveOption",value:function(e){for(var n=arguments.length,s=new Array(n>1?n-1:0),t=1;t<n;t++)s[t-1]=arguments[t];return"function"==typeof e?e.apply(this,s):e}},{key:"uploadFile",value:function(e){return this.uploadFiles([e])}},{key:"uploadFiles",value:function(e){var t=this;this._transformFiles(e,function(n){if(t.options.chunking&&(i=n[0],e[0].upload.chunked=t.options.chunking&&(t.options.forceChunking||i.size>t.options.chunkSize),e[0].upload.totalChunkCount=Math.ceil(i.size/t.options.chunkSize)),e[0].upload.chunked){var o,i,c,l,a=t,d=t,s=e[0];if(i=n[0],s.upload.chunks=[],c=function(){for(t=0;void 0!==s.upload.chunks[t];)t++;if(!(t>=s.upload.totalChunkCount)){0;var t,n=t*a.options.chunkSize,o=Math.min(n+a.options.chunkSize,i.size),c={name:a._getParamName(0),data:i.webkitSlice?i.webkitSlice(n,o):i.slice(n,o),filename:s.upload.filename,chunkIndex:t};s.upload.chunks[t]={file:s,index:t,dataBlock:c,status:r.UPLOADING,progress:0,retries:0},a._uploadData(e,[c])}},s.upload.finishedChunkUpload=function(t,n){var o,a=d,i=!0;t.status=r.SUCCESS,t.dataBlock=null,t.response=t.xhr.responseText,t.responseHeaders=t.xhr.getAllResponseHeaders(),t.xhr=null;for(o=0;o<s.upload.totalChunkCount;o++){if(void 0===s.upload.chunks[o])return c();s.upload.chunks[o].status!==r.SUCCESS&&(i=!1)}i&&d.options.chunksUploaded(s,function(){a._finished(e,n,null)})},t.options.parallelChunkUploads)for(o=0;o<s.upload.totalChunkCount;o++)c();else c()}else{l=[];for(o=0;o<e.length;o++)l[o]={name:t._getParamName(o),data:n[o],filename:e[o].upload.filename};t._uploadData(e,l)}})}},{key:"_getChunk",value:function(e,t){for(var n=0;n<e.upload.totalChunkCount;n++)if(void 0!==e.upload.chunks[n]&&e.upload.chunks[n].xhr===t)return e.upload.chunks[n]}},{key:"_uploadData",value:function(e,t){var o,a,d,u,h,m,f,p,g,v,b,y,_,w,O=this,j=this,C=this,x=this,s=new XMLHttpRequest,i=!0,r=!1,c=void 0;try{for(o=e[Symbol.iterator]();!(i=(h=o.next()).done);i=!0)(p=h.value).xhr=s}catch(e){r=!0,c=e}finally{try{i||null==o.return||o.return()}finally{if(r)throw c}}e[0].upload.chunked&&(e[0].upload.chunks[t[0].chunkIndex].xhr=s),w=this.resolveOption(this.options.method,e,t),_=this.resolveOption(this.options.url,e,t),s.open(w,_,!0),this.resolveOption(this.options.timeout,e)&&(s.timeout=this.resolveOption(this.options.timeout,e)),s.withCredentials=!!this.options.withCredentials,s.onload=function(t){O._finishedUploading(e,s,t)},s.ontimeout=function(){j._handleUploadError(e,s,"Request timedout after ".concat(j.options.timeout/1e3," seconds"))},s.onerror=function(){C._handleUploadError(e,s)},(null!=s.upload?s.upload:s).onprogress=function(t){return x._updateFilesUploadProgress(e,s,t)},f=this.options.defaultHeaders?{Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"}:{};for(y in this.options.binaryBody&&(f["Content-Type"]=e[0].type),this.options.headers&&n(l)(f,this.options.headers),f)b=f[y],b&&s.setRequestHeader(y,b);if(this.options.binaryBody){i=!0,r=!1,c=void 0;try{for(o=e[Symbol.iterator]();!(i=(h=o.next()).done);i=!0)p=h.value,this.emit("sending",p,s)}catch(e){r=!0,c=e}finally{try{i||null==o.return||o.return()}finally{if(r)throw c}}this.options.uploadMultiple&&this.emit("sendingmultiple",e,s),this.submitRequest(s,null,e)}else{if(a=new FormData,this.options.params){u=this.options.params;for(v in"function"==typeof u&&(u=u.call(this,e,s,e[0].upload.chunked?this._getChunk(e[0],s):null)),u)if(m=u[v],Array.isArray(m))for(d=0;d<m.length;d++)a.append(v,m[d]);else a.append(v,m)}i=!0,r=!1,c=void 0;try{for(o=e[Symbol.iterator]();!(i=(h=o.next()).done);i=!0)p=h.value,this.emit("sending",p,s,a)}catch(e){r=!0,c=e}finally{try{i||null==o.return||o.return()}finally{if(r)throw c}}this.options.uploadMultiple&&this.emit("sendingmultiple",e,s,a),this._addFormElementData(a);for(d=0;d<t.length;d++)g=t[d],a.append(g.name,g.data,g.filename);this.submitRequest(s,a,e)}}},{key:"_transformFiles",value:function(e,t){for(var s=this,i=function(n){s.options.transformFile.call(s,e[n],function(s){o[n]=s,++a===e.length&&t(o)})},o=[],a=0,n=0;n<e.length;n++)i(n)}},{key:"_addFormElementData",value:function(e){var t,r,l,n=!0,i=!1,a=void 0;if("FORM"===this.element.tagName)try{for(t=this.element.querySelectorAll("input, textarea, select, button")[Symbol.iterator]();!(n=(r=t.next()).done);n=!0){var s=r.value,c=s.getAttribute("name"),o=s.getAttribute("type");if(o&&(o=o.toLowerCase()),c!=null)if("SELECT"===s.tagName&&s.hasAttribute("multiple")){n=!0,i=!1,a=void 0;try{for(t=s.options[Symbol.iterator]();!(n=(r=t.next()).done);n=!0)l=r.value,l.selected&&e.append(c,l.value)}catch(e){i=!0,a=e}finally{try{n||null==t.return||t.return()}finally{if(i)throw a}}}else(!o||"checkbox"!==o&&"radio"!==o||s.checked)&&e.append(c,s.value)}}catch(e){i=!0,a=e}finally{try{n||null==t.return||t.return()}finally{if(i)throw a}}}},{key:"_updateFilesUploadProgress",value:function(e,t,n){var s,o,i,a,d,r=!0,c=!1,l=void 0;if(e[0].upload.chunked){s=e[0],i=this._getChunk(s,t),n?(i.progress=100*n.loaded/n.total,i.total=n.total,i.bytesSent=n.loaded):(i.progress=100,i.bytesSent=i.total),s.upload.progress=0,s.upload.total=0,s.upload.bytesSent=0;for(o=0;o<s.upload.totalChunkCount;o++)s.upload.chunks[o]&&void 0!==s.upload.chunks[o].progress&&(s.upload.progress+=s.upload.chunks[o].progress,s.upload.total+=s.upload.chunks[o].total,s.upload.bytesSent+=s.upload.chunks[o].bytesSent);s.upload.progress=s.upload.progress/s.upload.totalChunkCount,this.emit("uploadprogress",s,s.upload.progress,s.upload.bytesSent)}else try{for(a=e[Symbol.iterator]();!(r=(d=a.next()).done);r=!0)(s=d.value).upload.total&&s.upload.bytesSent&&s.upload.bytesSent==s.upload.total||(n?(s.upload.progress=100*n.loaded/n.total,s.upload.total=n.total,s.upload.bytesSent=n.loaded):(s.upload.progress=100,s.upload.bytesSent=s.upload.total),this.emit("uploadprogress",s,s.upload.progress,s.upload.bytesSent))}catch(e){c=!0,l=e}finally{try{r||null==a.return||a.return()}finally{if(c)throw l}}}},{key:"_finishedUploading",value:function(e,t,n){var s;if(e[0].status!==r.CANCELED&&4===t.readyState){if("arraybuffer"!==t.responseType&&"blob"!==t.responseType&&(s=t.responseText,t.getResponseHeader("content-type")&&~t.getResponseHeader("content-type").indexOf("application/json")))try{s=JSON.parse(s)}catch(e){n=e,s="Invalid JSON response from server."}this._updateFilesUploadProgress(e,t),200<=t.status&&t.status<300?e[0].upload.chunked?e[0].upload.finishedChunkUpload(this._getChunk(e[0],t),s):this._finished(e,s,n):this._handleUploadError(e,t,s)}}},{key:"_handleUploadError",value:function(e,t,n){if(e[0].status!==r.CANCELED){if(e[0].upload.chunked&&this.options.retryChunks){var s=this._getChunk(e[0],t);if(s.retries++<this.options.retryChunksLimit)return void this._uploadData(e,[s.dataBlock]);console.warn("Retried this chunk too often. Giving up.")}this._errorProcessing(e,n||this.options.dictResponseError.replace("{{statusCode}}",t.status),t)}}},{key:"submitRequest",value:function(e,t,n){if(1==e.readyState)if(this.options.binaryBody)if(n[0].upload.chunked){var s=this._getChunk(n[0],e);e.send(s.dataBlock.data)}else e.send(n[0]);else e.send(t);else console.warn("Cannot send this request because the XMLHttpRequest.readyState is not OPENED.")}},{key:"_finished",value:function(e,t,n){var s,o,l,i=!0,a=!1,c=void 0;try{for(s=e[Symbol.iterator]();!(i=(l=s.next()).done);i=!0)o=l.value,o.status=r.SUCCESS,this.emit("success",o,t,n),this.emit("complete",o)}catch(e){a=!0,c=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw c}}if(this.options.uploadMultiple&&(this.emit("successmultiple",e,t,n),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()}},{key:"_errorProcessing",value:function(e,t,n){var s,o,l,i=!0,a=!1,c=void 0;try{for(s=e[Symbol.iterator]();!(i=(l=s.next()).done);i=!0)o=l.value,o.status=r.ERROR,this.emit("error",o,t,n),this.emit("complete",o)}catch(e){a=!0,c=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw c}}if(this.options.uploadMultiple&&(this.emit("errormultiple",e,t,n),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()}}],[{key:"initClass",value:function(){this.prototype.Emitter=u,this.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],this.prototype._thumbnailQueue=[],this.prototype._processingThumbnail=!1}},{key:"uuidv4",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}}]),r}(u);e.initClass(),e.options={},e.optionsForElement=function(t){return t.getAttribute("id")?e.options[m(t.getAttribute("id"))]:void 0},e.instances=[],e.forElement=function(e){if("string"==typeof e&&(e=document.querySelector(e)),null==e?.dropzone)throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return e.dropzone},e.discover=function(){if(document.querySelectorAll)t=document.querySelectorAll(".dropzone");else{t=[];var t,n=function(e){return function(){var n,i,c,s=[],o=!0,a=!1,r=void 0;try{for(n=e[Symbol.iterator]();!(o=(c=n.next()).done);o=!0)i=c.value,/(^| )dropzone($| )/.test(i.className)?s.push(t.push(i)):s.push(void 0)}catch(e){a=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(a)throw r}}return s}()};n(document.getElementsByTagName("div")),n(document.getElementsByTagName("form"))}return function(){var n,i,c,s=[],o=!0,a=!1,r=void 0;try{for(n=t[Symbol.iterator]();!(o=(c=n.next()).done);o=!0)i=c.value,!1!==e.optionsForElement(i)?s.push(new e(i)):s.push(void 0)}catch(e){a=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(a)throw r}}return s}()},e.blockedBrowsers=[/opera.*(Macintosh|Windows Phone).*version\/12/i],e.isBrowserSupported=function(){if(t=!0,window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a")){void 0!==e.blacklistedBrowsers&&(e.blockedBrowsers=e.blacklistedBrowsers);var t,n,a,s=!0,o=!1,i=void 0;try{for(n=e.blockedBrowsers[Symbol.iterator]();!(s=(a=n.next()).done);s=!0)a.value.test(navigator.userAgent)&&(t=!1)}catch(e){o=!0,i=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw i}}}else t=!1;else t=!1;return t},e.dataURItoBlob=function(e){for(var n=atob(e.split(",")[1]),a=e.split(",")[0].split(":")[1].split(";")[0],o=new ArrayBuffer(n.length),r=new Uint8Array(o),t=0,s=n.length,i=0<=s;i?t<=s:t>=s;i?t++:t--)r[t]=n.charCodeAt(t);return new Blob([o],{type:a})},h=function(e,t){return e.filter(function(e){return e!==t}).map(function(e){return e})},m=function(e){return e.replace(/[-_](\w)/g,function(e){return e.charAt(1).toUpperCase()})},e.createElement=function(e){var t=document.createElement("div");return t.innerHTML=e,t.childNodes[0]},e.elementInside=function(e,t){if(e===t)return!0;for(;e=e.parentNode;)if(e===t)return!0;return!1},e.getElement=function(e,t){var n;if("string"==typeof e?n=document.querySelector(e):null!=e.nodeType&&(n=e),n==null)throw new Error("Invalid `".concat(t,"` option provided. Please provide a CSS selector or a plain HTML element."));return n},e.getElements=function(e,t){if(e instanceof Array){n=[];try{var n,s,r,c,o=!0,i=!1,a=void 0;try{for(s=e[Symbol.iterator]();!(o=(c=s.next()).done);o=!0)r=c.value,n.push(this.getElement(r,t))}catch(e){i=!0,a=e}finally{try{o||null==s.return||s.return()}finally{if(i)throw a}}}catch{n=null}}else if("string"==typeof e){n=[],o=!0,i=!1,a=void 0;try{for(s=document.querySelectorAll(e)[Symbol.iterator]();!(o=(c=s.next()).done);o=!0)r=c.value,n.push(r)}catch(e){i=!0,a=e}finally{try{o||null==s.return||s.return()}finally{if(i)throw a}}}else null!=e.nodeType&&(n=[e]);if(n==null||!n.length)throw new Error("Invalid `".concat(t,"` option provided. Please provide a CSS selector, a plain HTML element or a list of those."));return n},e.confirm=function(e,t,n){return window.confirm(e)?t():n?.()},e.isValidFile=function(e,t){if(!t)return!0;t=t.split(",");var n,s,c,i=e.type,l=i.replace(/\/.*$/,""),o=!0,a=!1,r=void 0;try{for(s=t[Symbol.iterator]();!(o=(c=s.next()).done);o=!0)if(n=c.value,"."===(n=n.trim()).charAt(0)){if(-1!==e.name.toLowerCase().indexOf(n.toLowerCase(),e.name.length-n.length))return!0}else if(/\/\*$/.test(n)){if(l===n.replace(/\/.*$/,""))return!0}else if(i===n)return!0}catch(e){a=!0,r=e}finally{try{o||null==s.return||s.return()}finally{if(a)throw r}}return!1},"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(t){return this.each(function(){return new e(this,t)})}),e.ADDED="added",e.QUEUED="queued",e.ACCEPTED=e.QUEUED,e.UPLOADING="uploading",e.PROCESSING=e.UPLOADING,e.CANCELED="canceled",e.ERROR="error",e.SUCCESS="success",f=function(e,t,n,s,o,i,a,r,c,l){var d=function(e){e.naturalWidth,t=e.naturalHeight,s=document.createElement("canvas"),s.width=1,s.height=t,o=s.getContext("2d"),o.drawImage(e,0,0);for(var t,s,o,a,c=o.getImageData(1,0,1,t).data,i=0,r=t,n=t;n>i;)0===c[4*(n-1)+3]?r=n:i=n,n=r+i>>1;return a=n/t,0===a?1:a}(t);return e.drawImage(t,n,s,o,i,a,r,c,l/d)},o=function(){"use strict";function e(){s(this,e)}return i(e,null,[{key:"initClass",value:function(){this.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}},{key:"encode64",value:function(e){for(var a="",r=void 0,n=void 0,s="",c=void 0,l=void 0,o=void 0,t="",i=0;c=(r=e[i++])>>2,l=(3&r)<<4|(n=e[i++])>>4,o=(15&n)<<2|(s=e[i++])>>6,t=63&s,isNaN(n)?o=t=64:isNaN(s)&&(t=64),a=a+this.KEY_STR.charAt(c)+this.KEY_STR.charAt(l)+this.KEY_STR.charAt(o)+this.KEY_STR.charAt(t),r=n=s="",c=l=o=t="",i<e.length;);return a}},{key:"restore",value:function(e,t){if(!e.match("data:image/jpeg;base64,"))return t;var n=this.decode64(e.replace("data:image/jpeg;base64,","")),s=this.slice2Segments(n),o=this.exifManipulation(t,s);return"data:image/jpeg;base64,".concat(this.encode64(o))}},{key:"exifManipulation",value:function(e,t){var n=this.getExifArray(t),s=this.insertExif(e,n);return new Uint8Array(s)}},{key:"getExifArray",value:function(e){for(var t=void 0,n=0;n<e.length;){if(255===(t=e[n])[0]&225===t[1])return t;n++}return[]}},{key:"insertExif",value:function(e,t){var i=e.replace("data:image/jpeg;base64,",""),n=this.decode64(i),o=n.indexOf(255,3),a=n.slice(0,o),r=n.slice(o),s=a;return s=(s=s.concat(t)).concat(r)}},{key:"slice2Segments",value:function(e){for(var n,o,t=0,s=[];;){if(255===e[t]&218===e[t+1])break;if(255===e[t]&216===e[t+1]?t+=2:(n=t+(256*e[t+2]+e[t+3])+2,o=e.slice(t,n),s.push(o),t=n),t>e.length)break}return s}},{key:"decode64",value:function(e){var o=void 0,i=void 0,a="",r=void 0,n=void 0,c="",t=0,s=[];for(/[^A-Za-z0-9+/=]/g.exec(e)&&console.warn(`There were invalid base64 characters in the input text.
Valid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='
Expect errors in decoding.`),e=e.replace(/[^A-Za-z0-9+/=]/g,"");o=this.KEY_STR.indexOf(e.charAt(t++))<<2|(r=this.KEY_STR.indexOf(e.charAt(t++)))>>4,i=(15&r)<<4|(n=this.KEY_STR.indexOf(e.charAt(t++)))>>2,a=(3&n)<<6|(c=this.KEY_STR.indexOf(e.charAt(t++))),s.push(o),64!==n&&s.push(i),64!==c&&s.push(a),o=i=a="",r=n=c="",t<e.length;);return s}}]),e}(),o.initClass(),window.Dropzone=e}()