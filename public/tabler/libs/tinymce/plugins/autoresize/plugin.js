(function(){"use strict";const h=e=>{let t=e;const n=()=>t,s=e=>{t=e};return{get:n,set:s}};var i,f=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=tinymce.util.Tools.resolve("tinymce.Env");const a=e=>e.dispatch("ResizeEditor"),t=e=>t=>t.options.get(e),u=e=>{const t=e.options.register;t("autoresize_overflow_padding",{processor:"number",default:1}),t("autoresize_bottom_margin",{processor:"number",default:50})},v=t("min_height"),r=t("max_height"),c=t("autoresize_overflow_padding"),l=t("autoresize_bottom_margin"),d=e=>e.plugins.fullscreen&&e.plugins.fullscreen.isFullscreen(),s=(e,t)=>{const n=e.getBody();n&&(n.style.overflowY=t?"":"hidden",t||(n.scrollTop=0))},o=(e,t,n,s)=>{var o;const i=parseInt((o=e.getStyle(t,n,s))!==null&&o!==void 0?o:"",10);return isNaN(i)?0:i},m=e=>{if(e?.type.toLowerCase()==="setcontent"){const t=e;return t.selection===!0||t.paste===!0}return!1},n=(t,i,c)=>{var g;const p=t.dom,j=t.getDoc();if(!j)return;if(d(t)){s(t,!0);return}const f=j.documentElement,w=l(t),y=(g=v(t))!==null&&g!==void 0?g:t.getElement().offsetHeight;let u=y;const O=o(p,f,"margin-top",!0),x=o(p,f,"margin-bottom",!0);let h=f.offsetHeight+O+x+w;h<0&&(h=0);const C=t.getContainer().offsetHeight,E=t.getContentAreaContainer().offsetHeight,_=C-E;h+_>y&&(u=h+_);const b=r(t);if(b&&u>b?(u=b,s(t,!0)):s(t,!1),u!==i.get()){const s=u-i.get();if(p.setStyle(t.getContainer(),"height",u+"px"),i.set(u),a(t),e.browser.isSafari()&&(e.os.isMacOS()||e.os.isiOS())){const e=t.getWin();e.scrollTo(e.pageXOffset,e.pageYOffset)}t.hasFocus()&&m(c)&&t.selection.scrollIntoView(),(e.browser.isSafari()||e.browser.isChromium())&&s<0&&n(t,i,c)}},p=(e,t)=>{e.on("init",()=>{const t=c(e),n=e.dom;n.setStyles(e.getDoc().documentElement,{height:"auto"}),n.setStyles(e.getBody(),{paddingLeft:t,paddingRight:t,"min-height":0})}),e.on("NodeChange SetContent keyup FullscreenStateChanged ResizeContent",s=>{n(e,t,s)})},g=(e,t)=>{e.addCommand("mceAutoResize",()=>{n(e,t)})};i=()=>{f.add("autoresize",e=>{if(u(e),e.options.isSet("resize")||e.options.set("resize",!1),!e.inline){const t=h(0);g(e,t),p(e,t)}})},i()})()