!function(){"use strict";var i=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=tinymce.util.Tools.resolve("tinymce.Env");const t=e=>t=>t.options.get(e),a=t("min_height"),r=t("max_height"),c=t("autoresize_overflow_padding"),l=t("autoresize_bottom_margin"),n=(e,t)=>{const n=e.getBody();n&&(n.style.overflowY=t?"":"hidden",t||(n.scrollTop=0))},o=(e,t,n,s)=>{var o;const i=parseInt(null!==(o=e.getStyle(t,n,s))&&void 0!==o?o:"",10);return isNaN(i)?0:i},s=(t,i,c)=>{var h;const m=t.dom,g=t.getDoc();if(!g)return;if((e=>e.plugins.fullscreen&&e.plugins.fullscreen.isFullscreen())(t))return void n(t,!0);const f=g.documentElement,j=l(t),v=null!==(h=a(t))&&void 0!==h?h:t.getElement().offsetHeight;let d=v;const y=o(m,f,"margin-top",!0),_=o(m,f,"margin-bottom",!0);let u=f.offsetHeight+y+_+j;u<0&&(u=0);const b=t.getContainer().offsetHeight-t.getContentAreaContainer().offsetHeight;u+b>v&&(d=u+b);const p=r(t);if(p&&d>p?(d=p,n(t,!0)):n(t,!1),d!==i.get()){const n=d-i.get();if(m.setStyle(t.getContainer(),"height",d+"px"),i.set(d),(e=>{e.dispatch("ResizeEditor")})(t),e.browser.isSafari()&&(e.os.isMacOS()||e.os.isiOS())){const e=t.getWin();e.scrollTo(e.pageXOffset,e.pageYOffset)}t.hasFocus()&&(e=>{if("setcontent"===e?.type.toLowerCase()){const t=e;return!0===t.selection||!0===t.paste}return!1})(c)&&t.selection.scrollIntoView(),(e.browser.isSafari()||e.browser.isChromium())&&n<0&&s(t,i,c)}};i.add("autoresize",e=>{if((e=>{const t=e.options.register;t("autoresize_overflow_padding",{processor:"number",default:1}),t("autoresize_bottom_margin",{processor:"number",default:50})})(e),e.options.isSet("resize")||e.options.set("resize",!1),!e.inline){const t=(e=>{let t=0;return{get:()=>t,set:e=>{t=e}}})();((e,t)=>{e.addCommand("mceAutoResize",()=>{s(e,t)})})(e,t),((e,t)=>{e.on("init",()=>{const t=c(e),n=e.dom;n.setStyles(e.getDoc().documentElement,{height:"auto"}),n.setStyles(e.getBody(),{paddingLeft:t,paddingRight:t,"min-height":0})}),e.on("NodeChange SetContent keyup FullscreenStateChanged ResizeContent",n=>{s(e,t,n)})})(e,t)}})}()