(function(){"use strict";var s,o,h=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=(e,t,n)=>{const s=t==="UL"?"InsertUnorderedList":"InsertOrderedList";e.execCommand(s,!1,n===!1?null:{"list-style-type":n})},E=e=>{e.addCommand("ApplyUnorderedListStyle",(n,s)=>{t(e,"UL",s["list-style-type"])}),e.addCommand("ApplyOrderedListStyle",(n,s)=>{t(e,"OL",s["list-style-type"])})},i=e=>t=>t.options.get(e),x=e=>{const t=e.options.register;t("advlist_number_styles",{processor:"string[]",default:"default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman".split(",")}),t("advlist_bullet_styles",{processor:"string[]",default:"default,circle,square".split(",")})},_=i("advlist_number_styles"),u=i("advlist_bullet_styles"),l=e=>e==null,n=e=>!l(e);s=tinymce.util.Tools.resolve("tinymce.util.Tools");class e{constructor(e,t){this.tag=e,this.value=t}static some(t){return new e(!0,t)}static none(){return e.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(t){return this.tag?e.some(t(this.value)):e.none()}bind(t){return this.tag?t(this.value):e.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(t){return!this.tag||t(this.value)?this:e.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(e??"Called getOrDie on None")}static from(t){return n(t)?e.some(t):e.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}e.singletonNone=new e(!1);const j=(e,t)=>e.dom.isChildOf(t,e.getBody()),d=e=>n(e)&&/^(TH|TD)$/.test(e.nodeName),m=e=>t=>n(t)&&/^(OL|UL|DL)$/.test(t.nodeName)&&j(e,t),f=t=>{const n=t.dom.getParent(t.selection.getNode(),"ol,ul"),s=t.dom.getStyle(n,"listStyleType");return e.from(s)},p=(e,t)=>t!==null&&e.dom.getContentEditableParent(t)==="false",g=(e,t)=>{const n=e.dom.getParent(t,"ol,ul,dl");return p(e,n)},v=(e,t)=>{for(let n=0;n<e.length;n++){const s=e[n];if(t(s))return n}return-1},b=e=>e.replace(/-/g," ").replace(/\b\w/g,e=>e.toUpperCase()),c=e=>l(e)||e==="default"?"":e,y=(e,t,n)=>{const o=v(t.parents,d),a=o!==-1?t.parents.slice(0,o):t.parents,i=s.grep(a,m(e));return i.length>0&&i[0].nodeName===n},r=(e,t)=>n=>{const s=s=>{n.setActive(y(e,s,t)),n.setEnabled(!g(e,s.element))};return e.on("NodeChange",s),()=>e.off("NodeChange",s)},w=(e,n,o,i,a,l)=>{e.ui.registry.addSplitButton(n,{tooltip:o,icon:a==="OL"?"ordered-list":"unordered-list",presets:"listpreview",columns:3,fetch:e=>{const t=s.map(l,e=>{const t=a==="OL"?"num":"bull",n=e==="disc"||e==="decimal"?"default":e,s=c(e),o=b(e);return{type:"choiceitem",value:s,icon:"list-"+t+"-"+n,text:o}});e(t)},onAction:()=>e.execCommand(i),onItemAction:(n,s)=>{t(e,a,s)},select:t=>{const n=f(e);return n.map(e=>t===e).getOr(!1)},onSetup:r(e,a)})},O=(e,n,s,o,i,a)=>{e.ui.registry.addToggleButton(n,{active:!1,tooltip:s,icon:i==="OL"?"ordered-list":"unordered-list",onSetup:r(e,i),onAction:()=>e.queryCommandState(o)||a===""?e.execCommand(o):t(e,i,a)})},a=(e,t,n,s,o,i)=>{i.length>1?w(e,t,n,s,o,i):O(e,t,n,s,o,c(i[0]))},C=e=>{a(e,"numlist","Numbered list","InsertOrderedList","OL",_(e)),a(e,"bullist","Bullet list","InsertUnorderedList","UL",u(e))};o=()=>{h.add("advlist",e=>{e.hasPlugin("lists")?(x(e),C(e),E(e)):console.error("Please use the Lists plugin together with the Advanced List plugin.")})},o()})()