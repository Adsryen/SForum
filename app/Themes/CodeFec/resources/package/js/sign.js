import axios from"axios";import swal from"sweetalert";if(document.getElementById("vue-core-sign-register")){const e={data(){return{username:null,email:null,password:null,cfpassword:null,captcha:null,invitationCode:null}},methods:{submit(){axios.post("/register",{_token:csrf_token,username:this.username,email:this.email,password:this.password,cfpassword:this.cfpassword,captcha:this.captcha,invitationCode:this.invitationCode}).then(e=>{var n,t=e.data;t.success===!0?(swal({icon:"success",title:t.result.msg}),setTimeout(()=>{location.href="/"},1200)):t.result instanceof Array?(n="",t.result.forEach(e=>{n=n+e+`
`}),swal({icon:"error",title:"出错啦!",text:n})):swal({icon:"error",title:t.result.msg})}).catch(e=>{console.error(e),swal({title:"请求出错",icon:"error"})})}},mounted(){}};Vue.createApp(e).mount("#vue-core-sign-register")}if(document.getElementById("vue-core-sign-login")){const e={data(){return{email:null,password:null,captcha:null}},methods:{submit(){axios.post("/login",{_token:csrf_token,email:this.email,password:this.password,captcha:this.captcha}).then(e=>{var n,t=e.data;t.success===!0?(swal({icon:"success",title:t.result.msg}),setTimeout(()=>{location.href="/"},1e3)):t.result instanceof Array?(n="",t.result.forEach(e=>{n=n+e+`
`}),swal({icon:"error",title:"出错啦!",text:n})):swal({icon:"error",title:t.result.msg})}).catch(e=>{console.error(e),swal({title:"请求出错",icon:"error"})})}}};Vue.createApp(e).mount("#vue-core-sign-login")}if(document.getElementById("vue-core-sign-login-username")){const e={data(){return{username:null,password:null,captcha:null}},methods:{submit(){axios.post("/login/username",{_token:csrf_token,username:this.username,password:this.password,captcha:this.captcha}).then(e=>{var n,t=e.data;t.success===!0?(swal({icon:"success",title:t.result.msg}),setTimeout(()=>{location.href="/"},1e3)):t.result instanceof Array?(n="",t.result.forEach(e=>{n=n+e+`
`}),swal({icon:"error",title:"出错啦!",text:n})):swal({icon:"error",title:t.result.msg})}).catch(e=>{console.error(e),swal({title:"请求出错",icon:"error"})})}}};Vue.createApp(e).mount("#vue-core-sign-login-username")}if(document.getElementById("vue-core-forgot-password")){const e={data(){return{email:null,captcha:null,show:!0,YzCode:null,sendCoded:!0,setpwd:!0,setPwd_password:null,setPwd_cfpassword:null,setPwd_submit:!1,password:null}},methods:{sendCode(){axios.post("/forgot-password/sendCode",{_token:csrf_token,email:this.email,captcha:this.captcha}).then(e=>{var n,t=e.data;t.success===!0?(swal({icon:"success",title:t.result.msg}),this.show=!this.show):t.result instanceof Array?(n="",t.result.forEach(e=>{n=n+e+`
`}),swal({icon:"error",title:"出错啦!",text:n})):swal({icon:"error",title:t.result.msg})}).catch(e=>{console.error(e),swal({title:"请求出错",icon:"error"})})},submit(){axios.post("/forgot-password/verifyCode",{_token:csrf_token,code:this.YzCode}).then(e=>{var n,t=e.data;t.success===!0?(swal({icon:"success",title:t.result.msg}),this.sendCoded=!this.sendCoded):t.result instanceof Array?(n="",t.result.forEach(e=>{n=n+e+`
`}),swal({icon:"error",title:"出错啦!",text:n})):swal({icon:"error",title:t.result.msg})}).catch(e=>{console.error(e),swal({title:"请求出错",icon:"error"})})},setPwdSubmit(){this.setPwd_password!==this.setPwd_cfpassword&&swal({title:"两次输入密码不一致",icon:"error"}),axios.post("/forgot-password",{_token:csrf_token,cfpassword:this.setPwd_cfpassword,password:this.setPwd_password,code:this.YzCode,email:this.email}).then(e=>{var n,t=e.data;t.success===!0?(swal({icon:"success",title:t.result.msg}),this.setpwd=!1):t.result instanceof Array?(n="",t.result.forEach(e=>{n=n+e+`
`}),swal({icon:"error",title:"出错啦!",text:n})):swal({icon:"error",title:t.result.msg})}).catch(e=>{console.error(e),swal({title:"请求出错",icon:"error"})})}}};Vue.createApp(e).mount("#vue-core-forgot-password")}