(function(){"use strict";v=document.createElement("style"),v.innerHTML="@keyframes fade-in{0%{opacity:0}to{opacity:.85}}.winbox.modal:after,.winbox.modal:before{content:''}.winbox{position:fixed;left:0;top:0;background:#0050ff;box-shadow:0 14px 28px rgba(0,0,0,.25),0 10px 10px rgba(0,0,0,.22);transition:width .3s,height .3s,transform .3s;transition-timing-function:cubic-bezier(.3,1,.3,1);will-change:transform,width,height;contain:layout size;text-align:left;touch-action:none}.wb-body,.wb-header{position:absolute;left:0}.max,.no-shadow{box-shadow:none}.wb-header{top:0;width:100%;height:35px;color:#fff;overflow:hidden}.wb-body{right:0;top:35px;bottom:0;overflow:auto;-webkit-overflow-scrolling:touch;overflow-scrolling:touch;will-change:contents;background:#fff;margin-top:0!important;contain:strict}.wb-title{font-family:Arial,sans-serif;font-size:14px;padding-left:10px;cursor:move;height:35px;line-height:35px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.wb-n,.wb-s{height:10px;position:absolute;left:0}.wb-n{top:-5px;right:0;cursor:n-resize}.wb-e{position:absolute;top:0;right:-5px;bottom:0;width:10px;cursor:w-resize}.wb-s,.wb-se,.wb-sw{bottom:-5px}.wb-s{right:0;cursor:n-resize}.wb-w{position:absolute;top:0;left:-5px;bottom:0;width:10px;cursor:w-resize}.wb-ne,.wb-nw,.wb-sw{width:15px;height:15px;position:absolute}.wb-nw{top:-5px;left:-5px;cursor:nw-resize}.wb-ne,.wb-sw{cursor:ne-resize}.wb-ne{top:-5px;right:-5px}.wb-sw{left:-5px}.wb-se{position:absolute;right:-5px;width:15px;height:15px;cursor:nw-resize}.wb-icon{float:right;height:35px;max-width:100%;text-align:center}.wb-icon *{display:inline-block;width:30px;height:100%;background-position:center;background-repeat:no-repeat;cursor:pointer;max-width:100%}.no-close .wb-close,.no-full .wb-full,.no-header .wb-header,.no-max .wb-max,.no-min .wb-min,.no-resize .wb-body~div,.winbox.min .wb-body>*,.winbox.min .wb-full,.winbox.min .wb-min,.winbox.modal .wb-full,.winbox.modal .wb-max,.winbox.modal .wb-min{display:none}.winbox.max .wb-title,.winbox.min .wb-title{cursor:default}.wb-min{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNiAyIj48cGF0aCBmaWxsPSIjZmZmIiBkPSJNOCAwaDdhMSAxIDAgMCAxIDAgMkgxYTEgMSAwIDAgMSAwLTJoN3oiLz48L3N2Zz4=);background-size:14px auto;background-position:center bottom 11px}.wb-max{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9IiNmZmYiIHZpZXdCb3g9IjAgMCA5NiA5NiI+PHBhdGggZD0iTTIwIDcxLjMxMUMxNS4zNCA2OS42NyAxMiA2NS4yMyAxMiA2MFYyMGMwLTYuNjMgNS4zNy0xMiAxMi0xMmg0MGM1LjIzIDAgOS42NyAzLjM0IDExLjMxMSA4SDI0Yy0yLjIxIDAtNCAxLjc5LTQgNHY1MS4zMTF6Ii8+PHBhdGggZD0iTTkyIDc2VjM2YzAtNi42My01LjM3LTEyLTEyLTEySDQwYy02LjYzIDAtMTIgNS4zNy0xMiAxMnY0MGMwIDYuNjMgNS4zNyAxMiAxMiAxMmg0MGM2LjYzIDAgMTItNS4zNyAxMi0xMnptLTUyIDRjLTIuMjEgMC00LTEuNzktNC00VjM2YzAtMi4yMSAxLjc5LTQgNC00aDQwYzIuMjEgMCA0IDEuNzkgNCA0djQwYzAgMi4yMS0xLjc5IDQtNCA0SDQweiIvPjwvc3ZnPg==);background-size:17px auto}.wb-close{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0xIC0xIDE4IDE4Ij48cGF0aCBmaWxsPSIjZmZmIiBkPSJtMS42MTMuMjEuMDk0LjA4M0w4IDYuNTg1IDE0LjI5My4yOTNsLjA5NC0uMDgzYTEgMSAwIDAgMSAxLjQwMyAxLjQwM2wtLjA4My4wOTRMOS40MTUgOGw2LjI5MiA2LjI5M2ExIDEgMCAwIDEtMS4zMiAxLjQ5N2wtLjA5NC0uMDgzTDggOS40MTVsLTYuMjkzIDYuMjkyLS4wOTQuMDgzQTEgMSAwIDAgMSAuMjEgMTQuMzg3bC4wODMtLjA5NEw2LjU4NSA4IC4yOTMgMS43MDdBMSAxIDAgMCAxIDEuNjEzLjIxeiIvPjwvc3ZnPg==);background-size:15px auto}.wb-full{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2Utd2lkdGg9IjIuNSIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNOCAzSDVhMiAyIDAgMCAwLTIgMnYzbTE4IDBWNWEyIDIgMCAwIDAtMi0yaC0zbTAgMThoM2EyIDIgMCAwIDAgMi0ydi0zTTMgMTZ2M2EyIDIgMCAwIDAgMiAyaDMiLz48L3N2Zz4=);background-size:16px auto}.winbox.max .wb-body~div,.winbox.min .wb-body~div,.winbox.modal .wb-body~div,.winbox.modal .wb-title,body.wb-drag iframe{pointer-events:none}.max .wb-body{margin:0!important}.winbox iframe{position:absolute;width:100%;height:100%;border:0}.no-animation,body.wb-drag .winbox{transition:none}.winbox.modal:before{position:absolute;top:0;left:0;right:0;bottom:0;background:inherit;border-radius:inherit}.winbox.modal:after{position:absolute;top:-100vh;left:-100vw;right:-100vw;bottom:-100vh;background:#0d1117;animation:fade-in .2s ease-out forwards;z-index:-1}.no-header .wb-body{top:0}.no-move:not(.min) .wb-title{pointer-events:none}",f=document.getElementsByTagName("head")[0],f.firstChild?f.insertBefore(v,f.firstChild):f.appendChild(v),b=document.createElement("div"),b.innerHTML="<div class=wb-header><div class=wb-icon><span class=wb-min></span><span class=wb-max></span><span class=wb-full></span><span class=wb-close></span></div><div class=wb-title> </div></div><div class=wb-body></div><div class=wb-n></div><div class=wb-s></div><div class=wb-w></div><div class=wb-e></div><div class=wb-nw></div><div class=wb-ne></div><div class=wb-se></div><div class=wb-sw></div>";function n(e,t,n,s){e.addEventListener(t,n,!s&&!1!==s||s)}function l(e){e.stopPropagation(),e.cancelable&&e.preventDefault()}function u(e,t,n){n=""+n,e["_s_"+t]!==n&&(e.style.setProperty(t,n),e["_s_"+t]=n)}var e,s,o,i,r,c,h,f,p,v,b,_,m=[],C=0,y=0;function d(e,n){if(!(this instanceof d))return new d(e);if(h||x(),this.g=b.cloneNode(!0),this.body=this.g.getElementsByClassName("wb-body")[0],e){if(n){var r,c,l,m,f,p,g,v,j,y,_,w,E,k,A,S,M,F,T,z,D,N,L,R,P,a=e;e=n}"string"==typeof e?a=e:((R=e.modal)&&(r=m="center"),L=e.id,M=e.root,a=a||e.title,E=e.mount,k=e.html,A=e.url,f=e.width,g=e.height,y=e.minwidth,_=e.minheight,r=e.x||r,m=e.y||m,S=e.max,c=e.top,l=e.left,p=e.bottom,v=e.right,h=e.index||h,F=e.onclose,T=e.onfocus,z=e.onblur,D=e.onmove,N=e.onresize,n=e.background,w=e.border,j=e.class,P=e.splitscreen,n&&this.setBackground(n),w&&u(this.body,"margin",w+(isNaN(w)?"":"px")))}this.setTitle(a||""),e=s,a=i,c=c?t(c,a):0,p=p?t(p,a):0,l=l?t(l,e):0,v=v?t(v,e):0,e-=l+v,a-=c+p,f=f?t(f,e):e/2|0,g=g?t(g,a):a/2|0,y=y?t(y,e):0,_=_?t(_,a):0,r=r?t(r,e,f):l,m=m?t(m,a,g):c,h=h||10,this.g.id=this.id=L||"winbox-"+ ++C,this.g.className="winbox"+(j?" "+("string"==typeof j?j:j.join(" ")):"")+(R?" modal":""),this.x=r,this.y=m,this.width=f,this.height=g,this.u=y,this.s=_,this.top=c,this.right=v,this.bottom=p,this.left=l,this.max=this.min=!1,this.j=F,this.l=T,this.i=z,this.o=D,this.m=N,this.v=P,S?this.maximize():this.move().resize(),this.focus(),E?this.mount(E):k?this.body.innerHTML=k:A&&this.setUrl(A),O(this),(M||o).appendChild(this.g)}d.new=function(e){return new d(e)};function t(e,t,n){return"string"==typeof e&&("center"===e?e=(t-n)/2|0:"right"===e||"bottom"===e?e=t-n:(n=parseFloat(e),e="%"===(""+n!==e&&e.substring((""+n).length))?t/100*n|0:n)),e}function x(){o=document.body,o[r="requestFullscreen"]||o[r="msRequestFullscreen"]||o[r="webkitRequestFullscreen"]||o[r="mozRequestFullscreen"]||(r=""),_=r&&r.replace("request","exit").replace("mozRequest","mozCancel").replace("Request","Exit"),n(window,"resize",function(){s=o.clientWidth,i=o.clientHeight,j()}),s=o.clientWidth,i=o.clientHeight}function O(e){a(e,"title"),a(e,"n"),a(e,"s"),a(e,"w"),a(e,"e"),a(e,"nw"),a(e,"ne"),a(e,"se"),a(e,"sw"),n(e.g.getElementsByClassName("wb-min")[0],"click",function(t){l(t),e.minimize()}),n(e.g.getElementsByClassName("wb-max")[0],"click",function(t){l(t),e.focus().maximize()}),r?n(e.g.getElementsByClassName("wb-full")[0],"click",function(t){l(t),e.focus().fullscreen()}):e.addClass("no-full"),n(e.g.getElementsByClassName("wb-close")[0],"click",function(t){l(t),e.close()||(e=null)}),n(e.g,"click",function(){e.focus()},!1)}function g(e){m.splice(m.indexOf(e),1),j(),e.removeClass("min"),e.min=!1,e.g.title=""}function j(){for(var e,n,o=m.length,t=0;t<o;t++)e=m[t],n=Math.min((s-2*e.left)/o,250),e.resize(n+1|0,35,!0).move(e.left+t*n|0,i-e.bottom-35,!0)}function a(e,t){function h(s){if(l(s),e.min)e.minimize();else{if("title"===t){var i=Date.now(),h=i-y;if(y=i,250>h){e.maximize();return}}e.max||(o.classList.add("wb-drag"),(a=s.touches)&&(a=a[0])?(s=a,n(window,"touchmove",r),n(window,"touchend",c)):(n(window,"mousemove",r),n(window,"mouseup",c)),d=s.pageX,u=s.pageY,e.focus())}}function r(n){l(n),a&&(n=n.touches[0]),p=n.pageX,n=n.pageY;var o,r,c,h,p,m=p-d,f=n-u;"title"===t?(e.x+=m,e.y+=f,r=o=1):("e"===t||"se"===t||"ne"===t?(e.width+=m,c=1):("w"===t||"sw"===t||"nw"===t)&&(e.x+=m,e.width-=m,r=c=1),"s"===t||"se"===t||"sw"===t?(e.height+=f,h=1):("n"===t||"ne"===t||"nw"===t)&&(e.y+=f,e.height-=f,o=h=1)),(c||h)&&(c&&(e.width=Math.max(Math.min(e.width,s-e.x-e.right),150)),h&&(e.height=Math.max(Math.min(e.height,i-e.y-e.bottom),35)),e.resize()),(r||o)&&(r&&(e.x=Math.max(Math.min(e.x,s-e.width-e.right),e.left)),o&&(e.y=Math.max(Math.min(e.y,i-e.height-e.bottom),e.top)),e.move()),d=p,u=n}function c(e){l(e),o.classList.remove("wb-drag"),a?(window.removeEventListener("touchmove",r,!0),window.removeEventListener("touchend",c,!0)):(window.removeEventListener("mousemove",r,!0),window.removeEventListener("mouseup",c,!0))}var a,d,u,m=e.g.getElementsByClassName("wb-"+t)[0];n(m,"mousedown",h),n(m,"touchstart",h,{passive:!1})}e=d.prototype,e.mount=function(e){return this.unmount(),e.h||(e.h=e.parentNode),this.body.textContent="",this.body.appendChild(e),this},e.unmount=function(e){var n,t=this.body.firstChild;return t&&(n=e||t.h,n&&n.appendChild(t),t.h=e),this},e.setTitle=function(e){return e=this.title=e,this.g.getElementsByClassName("wb-title")[0].firstChild.nodeValue=e,this},e.setBackground=function(e){return u(this.g,"background",e),this},e.setUrl=function(e){return this.body.innerHTML='<iframe src="'+e+'"></iframe>',this},e.focus=function(){return c!==this&&(u(this.g,"z-index",h++),this.addClass("focus"),c&&(c.removeClass("focus"),c.i&&c.i()),c=this,this.l&&this.l()),this},e.hide=function(){return this.addClass("hide")},e.show=function(){return this.removeClass("hide")},e.minimize=function(e){return p&&w(),!e&&this.min?(g(this),this.resize().move().focus()):!1===e||this.min||(m.push(this),j(),this.g.title=this.title,this.addClass("min"),this.min=!0),this.max&&(this.removeClass("max"),this.max=!1),this},e.maximize=function(e){return("undefined"==typeof e||e!==this.max)&&(this.min&&g(this),(this.max=!this.max)?this.addClass("max").resize(s-this.left-this.right,i-this.top-this.bottom,!0).move(this.left,this.top,!0):this.resize().move().removeClass("max")),this},e.fullscreen=function(e){return("undefined"==typeof e||e!==p)&&(this.min&&(this.resize().move(),g(this)),p&&w()||(this.body[r](),p=!0)),this};function w(){if(p=!1,document.fullscreen||document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement)return document[_](),!0}e.close=function(e){if(this.j&&this.j(e))return!0;this.min&&g(this),this.unmount(),this.g.parentNode.removeChild(this.g),c===this&&(c=null)},e.move=function(e,n,o){return e||0===e?o||(this.x=e?e=t(e,s-this.left-this.right,this.width):0,this.y=n?n=t(n,i-this.top-this.bottom,this.height):0):(e=this.x,n=this.y,this.v&&(0===e?this.resize(s/2,i):e===s-this.width&&this.resize(s/2,i))),u(this.g,"transform","translate("+e+"px,"+n+"px)"),this.o&&this.o(e,n),this},e.resize=function(e,n,o){return e||0===e?o||(this.width=e?e=t(e,s-this.left-this.right):0,this.height=n?n=t(n,i-this.top-this.bottom):0):(e=this.width,n=this.height),e=Math.max(e,this.u),n=Math.max(n,this.s),u(this.g,"width",e+"px"),u(this.g,"height",n+"px"),this.m&&this.m(e,n),this},e.addClass=function(e){return this.g.classList.add(e),this},e.removeClass=function(e){return this.g.classList.remove(e),this},window.WinBox=d}).call(this)